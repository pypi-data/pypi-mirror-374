{".class": "MypyFile", "_fullname": "camcops_server.cc_modules.cc_sms", "future_import_flags": [], "is_partial_stub_package": false, "is_stub": false, "names": {".class": "SymbolTable", "Any": {".class": "SymbolTableNode", "cross_ref": "typing.Any", "kind": "Gdef"}, "Client": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import", "is_ready", "is_inferred"], "fullname": "camcops_server.cc_modules.cc_sms.Client", "name": "Client", "type": {".class": "AnyType", "missing_import_name": "camcops_server.cc_modules.cc_sms.Client", "source_any": null, "type_of_any": 3}}}, "ConsoleSmsBackend": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": [], "abstract_attributes": [], "bases": ["camcops_server.cc_modules.cc_sms.SmsBackend"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend", "name": "ConsoleSmsBackend", "type_vars": []}, "deletable_attributes": [], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend", "has_param_spec_type": false, "metaclass_type": null, "metadata": {}, "module_name": "camcops_server.cc_modules.cc_sms", "mro": ["camcops_server.cc_modules.cc_sms.ConsoleSmsBackend", "camcops_server.cc_modules.cc_sms.SmsBackend", "builtins.object"], "names": {".class": "SymbolTable", "PREFIX": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend.PREFIX", "name": "PREFIX", "type": "builtins.str"}}, "make_msg": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0, 0], "arg_names": ["cls", "recipient", "message"], "flags": ["is_class", "is_decorated"], "fullname": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend.make_msg", "name": "make_msg", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0], "arg_names": ["cls", "recipient", "message"], "arg_types": [{".class": "TypeType", "item": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend"}, "builtins.str", "builtins.str"], "bound_args": [], "def_extras": {"first_arg": "cls"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "make_msg of ConsoleSmsBackend", "ret_type": "builtins.str", "type_guard": null, "unpack_kwargs": false, "variables": []}}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_classmethod", "is_ready", "is_inferred"], "fullname": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend.make_msg", "name": "make_msg", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0], "arg_names": ["cls", "recipient", "message"], "arg_types": [{".class": "TypeType", "item": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend"}, "builtins.str", "builtins.str"], "bound_args": [], "def_extras": {"first_arg": "cls"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "make_msg of ConsoleSmsBackend", "ret_type": "builtins.str", "type_guard": null, "unpack_kwargs": false, "variables": []}}}}, "send_sms": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.ConsoleSmsBackend.send_sms", "name": "send_sms", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "arg_types": ["camcops_server.cc_modules.cc_sms.ConsoleSmsBackend", "builtins.str", "builtins.str", {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "send_sms of ConsoleSmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}}, "slots": null, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "Dict": {".class": "SymbolTableNode", "cross_ref": "typing.Dict", "kind": "Gdef"}, "KapowSmsBackend": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": [], "abstract_attributes": [], "bases": ["camcops_server.cc_modules.cc_sms.SmsBackend"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend", "name": "KapowSmsBackend", "type_vars": []}, "deletable_attributes": [], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend", "has_param_spec_type": false, "metaclass_type": null, "metadata": {}, "module_name": "camcops_server.cc_modules.cc_sms", "mro": ["camcops_server.cc_modules.cc_sms.KapowSmsBackend", "camcops_server.cc_modules.cc_sms.SmsBackend", "builtins.object"], "names": {".class": "SymbolTable", "API_URL": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend.API_URL", "name": "API_URL", "type": "builtins.str"}}, "PARAM_PASSWORD": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend.PARAM_PASSWORD", "name": "PARAM_PASSWORD", "type": "builtins.str"}}, "PARAM_USERNAME": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend.PARAM_USERNAME", "name": "PARAM_USERNAME", "type": "builtins.str"}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0], "arg_names": ["self", "config"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "config"], "arg_types": ["camcops_server.cc_modules.cc_sms.KapowSmsBackend", {".class": "Instance", "args": ["builtins.str", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 2}], "type_ref": "builtins.dict"}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "__init__ of KapowSmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}, "send_sms": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.KapowSmsBackend.send_sms", "name": "send_sms", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "arg_types": ["camcops_server.cc_modules.cc_sms.KapowSmsBackend", "builtins.str", "builtins.str", {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "send_sms of KapowSmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}}, "slots": null, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "MissingBackendException": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": [], "abstract_attributes": [], "bases": ["builtins.Exception"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "camcops_server.cc_modules.cc_sms.MissingBackendException", "name": "MissingBackendException", "type_vars": []}, "deletable_attributes": [], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.MissingBackendException", "has_param_spec_type": false, "metaclass_type": null, "metadata": {}, "module_name": "camcops_server.cc_modules.cc_sms", "mro": ["camcops_server.cc_modules.cc_sms.MissingBackendException", "builtins.Exception", "builtins.BaseException", "builtins.object"], "names": {".class": "SymbolTable"}, "slots": null, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "SmsBackend": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": [], "abstract_attributes": [], "bases": ["builtins.object"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "camcops_server.cc_modules.cc_sms.SmsBackend", "name": "SmsBackend", "type_vars": []}, "deletable_attributes": [], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.SmsBackend", "has_param_spec_type": false, "metaclass_type": null, "metadata": {}, "module_name": "camcops_server.cc_modules.cc_sms", "mro": ["camcops_server.cc_modules.cc_sms.SmsBackend", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0], "arg_names": ["self", "config"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.SmsBackend.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "config"], "arg_types": ["camcops_server.cc_modules.cc_sms.SmsBackend", {".class": "Instance", "args": ["builtins.str", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 2}], "type_ref": "builtins.dict"}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "__init__ of SmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}, "config": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": ["is_inferred"], "fullname": "camcops_server.cc_modules.cc_sms.SmsBackend.config", "name": "config", "type": {".class": "Instance", "args": ["builtins.str", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 2}], "type_ref": "builtins.dict"}}}, "send_sms": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.SmsBackend.send_sms", "name": "send_sms", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "arg_types": ["camcops_server.cc_modules.cc_sms.SmsBackend", "builtins.str", "builtins.str", {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "send_sms of SmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}}, "slots": null, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "SmsBackendNames": {".class": "SymbolTableNode", "cross_ref": "camcops_server.cc_modules.cc_constants.SmsBackendNames", "kind": "Gdef"}, "TwilioSmsBackend": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": [], "abstract_attributes": [], "bases": ["camcops_server.cc_modules.cc_sms.SmsBackend"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend", "name": "TwilioSmsBackend", "type_vars": []}, "deletable_attributes": [], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend", "has_param_spec_type": false, "metaclass_type": null, "metadata": {}, "module_name": "camcops_server.cc_modules.cc_sms", "mro": ["camcops_server.cc_modules.cc_sms.TwilioSmsBackend", "camcops_server.cc_modules.cc_sms.SmsBackend", "builtins.object"], "names": {".class": "SymbolTable", "PARAM_FROM_PHONE_NUMBER": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend.PARAM_FROM_PHONE_NUMBER", "name": "PARAM_FROM_PHONE_NUMBER", "type": "builtins.str"}}, "PARAM_SID": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend.PARAM_SID", "name": "PARAM_SID", "type": "builtins.str"}}, "PARAM_TOKEN": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready", "is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend.PARAM_TOKEN", "name": "PARAM_TOKEN", "type": "builtins.str"}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0], "arg_names": ["self", "config"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "config"], "arg_types": ["camcops_server.cc_modules.cc_sms.TwilioSmsBackend", {".class": "Instance", "args": ["builtins.str", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 2}], "type_ref": "builtins.dict"}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "__init__ of TwilioSmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}, "client": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": ["is_inferred"], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend.client", "name": "client", "type": {".class": "AnyType", "missing_import_name": "camcops_server.cc_modules.cc_sms.Client", "source_any": {".class": "AnyType", "missing_import_name": "camcops_server.cc_modules.cc_sms.Client", "source_any": null, "type_of_any": 3}, "type_of_any": 7}}}, "send_sms": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.TwilioSmsBackend.send_sms", "name": "send_sms", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "recipient", "message", "sender"], "arg_types": ["camcops_server.cc_modules.cc_sms.TwilioSmsBackend", "builtins.str", "builtins.str", {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "send_sms of TwilioSmsBackend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}}, "slots": null, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "Type": {".class": "SymbolTableNode", "cross_ref": "typing.Type", "kind": "Gdef"}, "__annotations__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "camcops_server.cc_modules.cc_sms.__annotations__", "name": "__annotations__", "type": {".class": "Instance", "args": ["builtins.str", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.dict"}}}, "__doc__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "camcops_server.cc_modules.cc_sms.__doc__", "name": "__doc__", "type": "builtins.str"}}, "__file__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "camcops_server.cc_modules.cc_sms.__file__", "name": "__file__", "type": "builtins.str"}}, "__name__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "camcops_server.cc_modules.cc_sms.__name__", "name": "__name__", "type": "builtins.str"}}, "__package__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "camcops_server.cc_modules.cc_sms.__package__", "name": "__package__", "type": "builtins.str"}}, "_backends": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms._backends", "name": "_backends", "type": {".class": "Instance", "args": ["builtins.str", {".class": "TypeType", "item": "camcops_server.cc_modules.cc_sms.SmsBackend"}], "type_ref": "builtins.dict"}}}, "get_sms_backend": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0], "arg_names": ["label", "config"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.get_sms_backend", "name": "get_sms_backend", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["label", "config"], "arg_types": ["builtins.str", {".class": "Instance", "args": ["builtins.str", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 2}], "type_ref": "builtins.dict"}], "bound_args": [], "def_extras": {"first_arg": null}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "get_sms_backend", "ret_type": "camcops_server.cc_modules.cc_sms.SmsBackend", "type_guard": null, "unpack_kwargs": false, "variables": []}}}, "log": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_inferred", "has_explicit_value"], "fullname": "camcops_server.cc_modules.cc_sms.log", "name": "log", "type": "logging.Logger"}}, "logging": {".class": "SymbolTableNode", "cross_ref": "logging", "kind": "Gdef"}, "register_backend": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "abstract_status": 0, "arg_kinds": [0, 0], "arg_names": ["name", "backend_class"], "flags": [], "fullname": "camcops_server.cc_modules.cc_sms.register_backend", "name": "register_backend", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["name", "backend_class"], "arg_types": ["builtins.str", {".class": "TypeType", "item": "camcops_server.cc_modules.cc_sms.SmsBackend"}], "bound_args": [], "def_extras": {"first_arg": null}, "fallback": "builtins.function", "from_concatenate": false, "implicit": false, "is_ellipsis_args": false, "name": "register_backend", "ret_type": {".class": "NoneType"}, "type_guard": null, "unpack_kwargs": false, "variables": []}}}, "requests": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import", "is_ready", "is_inferred"], "fullname": "camcops_server.cc_modules.cc_sms.requests", "name": "requests", "type": {".class": "AnyType", "missing_import_name": "camcops_server.cc_modules.cc_sms.requests", "source_any": null, "type_of_any": 3}}}}, "path": "/home/martinb/workspace/camcops/server/camcops_server/cc_modules/cc_sms.py"}