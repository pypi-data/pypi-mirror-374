{% load static %}
<!DOCTYPE html>
<html lang="en"
{% if TABLER_DARK_MODE %}
  data-bs-theme="dark"
  {% else %}
    data-bs-theme="light"
  {% endif %}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      {% block title %}
        {{ TABLER_BRAND_NAME }}
      {% endblock %}
    </title>

    {% if TABLER_USE_CDN %}
      <!-- Tabler Core CSS (Bootstrap 5) -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@{{ TABLER_VERSION }}/dist/css/tabler.min.css" />
      <!-- Tabler Icons -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css" />
    {% else %}
      <link rel="stylesheet" href="{% static 'tabler_theme/tabler.min.css' %}" />
      <link rel="stylesheet" href="{% static 'tabler_theme/tabler-icons.min.css' %}" />
    {% endif %}

    <link rel="stylesheet" href="{% static 'tabler_theme/theme.css' %}" />
    {% block head_extra %}

    {% endblock %}
  </head>
  <body class="{% block body_class %}{% if TABLER_USE_SIDEBAR %}layout-fluid{% endif %}{% endblock %}">
    <div class="page">
      {% block header %}
        <header class="navbar navbar-expand-md navbar-{{ TABLER_NAVBAR_COLOR }} d-print-none">
          <div class="container-xl">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <a href="/" aria-label="Tabler" class="navbar-brand navbar-brand-autodark me-3">
              {% if TABLER_LOGO_URL %}
                {% block navbar_logo %}
                  {% if TABLER_DARK_MODE and TABLER_LOGO_URL_DARK %}
                    <img src="{{ TABLER_LOGO_URL_DARK }}" 
                         width="{{ TABLER_LOGO_WIDTH }}" 
                         height="{{ TABLER_LOGO_HEIGHT }}" 
                         alt="{{ TABLER_LOGO_ALT }}" 
                         class="navbar-brand-image" />
                  {% else %}
                    <img src="{{ TABLER_LOGO_URL }}" 
                         width="{{ TABLER_LOGO_WIDTH }}" 
                         height="{{ TABLER_LOGO_HEIGHT }}" 
                         alt="{{ TABLER_LOGO_ALT }}" 
                         class="navbar-brand-image" />
                  {% endif %}
                {% endblock %}
              {% else %}
                {% block navbar_brand_text %}{{ TABLER_BRAND_NAME }}{% endblock %}
              {% endif %}
            </a>
            {% if not TABLER_USE_SIDEBAR %}
            <div class="collapse navbar-collapse" id="navbar-menu">
              <div class="d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center">
                <ul class="navbar-nav">
                  {% block topnav_items %}
                  {% endblock %}
                </ul>
              </div>
            </div>
            {% endif %}
            <div class="navbar-nav flex-row order-md-last ms-auto">
              {% block topnav_right %}
                <div class="nav-item dropdown">
                  <a href="#" class="nav-link d-flex lh-1 text-reset" data-bs-toggle="dropdown" aria-label="Open user menu">
                    {% block topnav_right_avatar %}
                      <span class="avatar avatar-sm" style="background-image: url(/static/avatars/044m.jpg)"></span>
                    {% endblock %}
                    <div class="d-none d-xl-block ps-2">
                      <div>
                        {% block topnav_right_title %}
                          Username
                        {% endblock %}
                      </div>
                      <div class="mt-1 small text-secondary">
                        {% block topnav_right_subtitle %}
                          Subtitle
                        {% endblock %}
                      </div>
                    </div>
                  </a>
                  <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    {% block topnav_right_items %}
                    {% endblock %}
                  </div>
                </div>
              {% endblock %}
            </div>
          </div>
        </header>
      {% endblock %}
      {% if TABLER_USE_SIDEBAR %}
        {% block sidebar %}
          <aside class="navbar navbar-vertical navbar-expand-lg navbar-dark">
            <div class="container-fluid">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar-menu" aria-controls="sidebar-menu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <h1 class="navbar-brand navbar-brand-autodark">
                <a href="/">
                  {% if TABLER_LOGO_URL %}
                    {% block sidebar_logo %}
                      {% if TABLER_DARK_MODE and TABLER_LOGO_URL_DARK %}
                        <img src="{{ TABLER_LOGO_URL_DARK }}" 
                             width="{{ TABLER_LOGO_WIDTH }}" 
                             height="{{ TABLER_LOGO_HEIGHT }}" 
                             alt="{{ TABLER_LOGO_ALT }}" 
                             class="navbar-brand-image" />
                      {% else %}
                        <img src="{{ TABLER_LOGO_URL }}" 
                             width="{{ TABLER_LOGO_WIDTH }}" 
                             height="{{ TABLER_LOGO_HEIGHT }}" 
                             alt="{{ TABLER_LOGO_ALT }}" 
                             class="navbar-brand-image" />
                      {% endif %}
                    {% endblock %}
                  {% else %}
                    {% block sidebar_brand_text %}{{ TABLER_BRAND_NAME }}{% endblock %}
                  {% endif %}
                </a>
              </h1>
              <div class="collapse navbar-collapse" id="sidebar-menu">
                <ul class="navbar-nav pt-lg-3">
                  {% block sidebar_items %}
                    <li class="nav-item">
                      <a class="nav-link" href="/">
                        <span class="nav-link-title">Dashboard</span>
                      </a>
                    </li>
                  {% endblock %}
                </ul>
              </div>
            </div>
          </aside>
        {% endblock %}
      {% endif %}
      <div class="page-wrapper">
        <div class="container-fluid">
          {% if messages %}
            <div class="row my-3">
              <div class="col">
                {% for message in messages %}
                  <div class="alert alert-{{ message.tags }} mb-2" role="alert">{{ message }}</div>
                {% endfor %}
              </div>
            </div>
          {% endif %}
          {% block page_title %}

          {% endblock %}
          {% block breadcrumbs %}

          {% endblock %}
          {% block content %}

          {% endblock %}
        </div>
      </div>
    </div>

    {% if TABLER_USE_CDN %}
      <script src="https://cdn.jsdelivr.net/npm/@tabler/core@{{ TABLER_VERSION }}/dist/js/tabler.min.js"></script>
    {% else %}
      <script src="{% static 'tabler_theme/tabler.min.js' %}"></script>
    {% endif %}
    <script src="{% static 'tabler_theme/theme.js' %}"></script>
    {% block scripts_extra %}

    {% endblock %}
  </body>
</html>
