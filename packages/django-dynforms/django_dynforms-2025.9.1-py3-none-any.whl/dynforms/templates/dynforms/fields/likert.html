{% load dynforms %}
<div class="controls" id="{{ field.name }}__controls">
    <div>{{ field.instructions }}</div>
    <table class="w-100 table table-ruled" style="table-layout: fixed;">
        <thead>
        <tr class="text-center">
            <th></th>
            {% for rubric in field.rubrics %}
            <th>{{ rubric }}</th>
            {% endfor %}
            <th>N/A</th>
        </tr>
        </thead>
        <tbody>
        {% with field|likert_scores as scores %}
        {% for choice in field|likert_choices:data %}
            <tr>
                <td class="text-left">
                    {{ choice.name }}
                    <input type="hidden" name="{{ field.name }}__{{ choice.index }}__name" value="{{ choice.name }}"/>
                </td>
                {% for score in scores %}
                <td class="text-center">
                    <input type="radio" class="form-check-input {{ required }}" aria-label="{{ score.rubric }}"
                           name="{{ field.name }}__{{ choice.index }}__value" value="{{ score.value }}"
                           {% if choice.value == score.value %}checked{% endif %}
                    />
                </td>
                {% endfor %}
                <td class="text-center">
                    <input type="radio" class="form-check-input" {{ required }} aria-label="N/A"
                           name="{{ field.name }}__{{ choice.index }}__value"
                    />
                </td>
            </tr>
        {% endfor %}
        {% endwith %}
        </tbody>
    </table>
</div>