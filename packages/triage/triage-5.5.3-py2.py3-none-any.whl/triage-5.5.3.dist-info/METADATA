Metadata-Version: 2.4
Name: triage
Version: 5.5.3
Summary: Risk modeling and prediction
Home-page: https://dssg.github.io/triage/
Author: Center for Data Science and Public Policy
Author-email: datascifellows@gmail.com
License: MIT License
Project-URL: Documentation, https://dssg.github.io/triage/
Project-URL: Source Code, https://github.com/dssg/triage
Project-URL: Tutorial, https://dssg.github.io/triage/dirtyduck/
Keywords: triage
Classifier: Development Status :: 2 - Pre-Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
License-File: AUTHORS.rst
Requires-Dist: polars==0.18.2
Requires-Dist: pyarrow>=12.0.1
Requires-Dist: numpy==1.26.0
Requires-Dist: pandas==1.5.0
Requires-Dist: alembic==1.7.7
Requires-Dist: SQLAlchemy==1.3.18
Requires-Dist: PyYAML==6.0.2
Requires-Dist: psycopg2-binary==2.9.3
Requires-Dist: boto3==1.22.4
Requires-Dist: click==8.1.3
Requires-Dist: inflection==0.5.1
Requires-Dist: sqlalchemy-postgres-copy==0.5.0
Requires-Dist: retrying==1.3.3
Requires-Dist: Dickens==1.0.1
Requires-Dist: signalled-timeout==1.0.0
Requires-Dist: wrapt==1.14.0
Requires-Dist: argcmdr==0.7.0
Requires-Dist: sqlparse==0.4.4
Requires-Dist: pebble==4.6.3
Requires-Dist: adjustText==0.7.3
Requires-Dist: graphviz==0.20
Requires-Dist: requests==2.31.0
Requires-Dist: coloredlogs==15.0.1
Requires-Dist: verboselogs==1.7
Requires-Dist: s3fs==0.4.2
Requires-Dist: scikit-learn==1.6.1
Requires-Dist: matplotlib==3.5.1
Requires-Dist: seaborn==0.11.2
Requires-Dist: ohio==0.5.0
Requires-Dist: aequitas==0.42.0
Requires-Dist: plotly==5.24.0
Requires-Dist: jupyter==1.0.0
Provides-Extra: rq
Requires-Dist: rq==1.4.3; extra == "rq"
Requires-Dist: redis; extra == "rq"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: license
Dynamic: license-file
Dynamic: project-url
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

Triage
======

ML/Data Science Toolkit for Social Good and Public Policy Problems

[![image](https://travis-ci.com/dssg/triage.svg?branch=master)](https://travis-ci.org/dssg/triage)
[![image](https://codecov.io/gh/dssg/triage/branch/master/graph/badge.svg)](https://codecov.io/gh/dssg/triage)
[![image](https://codeclimate.com/github/dssg/triage.png)](https://codeclimate.com/github/dssg/triage)

Building ML/Data Science systems requires answering many design questions, turning them into modeling choices, which in turn define and machine learning models. Questions such as cohort selection, unit of analysis determination, outcome determination, feature (explanatory variables or predictors) generation, model/classifier training, evaluation, selection, bias audits, interpretation, and list generation are often complicated and hard to make design choices around a priori. In addition, once these choices are made, they have to be combined in different ways throughout the course of a project.

Triage is designed to:

- Guide users (data scientists, analysts, researchers) through these design choices by highlighting critical operational use questions.
- Provide an integrated interface to components that are needed throughout a ML/data science project workflow.

## Getting Started with Triage

- Are you completely new to Triage? Run through a quick tutorial hosted on google colab (no setup necessary) to see what triage can do!  [Tutorial hosted on Google Colab](https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb)
- Run it locally on an [example problem and data set from Donors Choose](https://github.com/dssg/donors-choose)
- [Dirty Duck Tutorial](https://dssg.github.io/triage/dirtyduck/) - Want a more in-depth walk through of triage's functionality and concepts? Go through the dirty duck tutorial that you can install on your local machine  with sample data
- [QuickStart Guide](https://dssg.github.io/triage/quickstart/) - Try Triage out with your own project and data
- [Triage Documentation Site](https://dssg.github.io/triage/) - Used Triage before and want more reference documentation?
- [Development](https://github.com/dssg/triage#development) - Contribute to Triage development.

## Installation

To install Triage locally, you need:

- Ubuntu/RedHat
- Python 3.9+
- A PostgreSQL 9.6+ database with your source data (events,
  geographical data, etc) loaded.
  - **NOTE**: If your database is PostgreSQL 11+ you will get some
    speed improvements. We recommend updating to a recent
    version of PostgreSQL.
- Ample space on an available disk (or for example in Amazon Web
  Services's S3) to store the matrices and models that will be created for your
  experiments

We recommend starting with a new Python virtual environment and pip installing triage there.
```bash
$ virtualenv triage-env
$ . triage-env/bin/activate
(triage-env) $ pip install triage
```
If you get an error related to pg_config executable, run the following command (make sure you have sudo access):
```bash
(triage-env) $ sudo apt-get install libpq-dev python3.9-dev
```
Then rerun pip install triage
```bash
(triage-env) $ pip install triage
```
To test if triage was installed correctly, type:
```bash
(triage-env) $ triage -h
```


## Data
Triage needs data in a postgres database and a configuration file that has credentials for the database. The Triage CLI defaults database connection information to a file stored in 'database.yaml' (example in [example/database.yaml](https://github.com/dssg/triage/blob/master/example/database.yaml)).

If you don't want to install Postgres yourself, try `triage db up` to create a vanilla Postgres 12 database using docker. For more details on this command, check out [Triage Database Provisioner](db.md)

## Configure Triage for your project

Triage is configured with a config.yaml file that has parameters defined for each component. You can see some [sample configuration with explanations](https://github.com/dssg/triage/blob/master/example/config/experiment.yaml) to see what configuration looks like.

## Using Triage

1. Via CLI:
```bash

triage experiment example/config/experiment.yaml
```
2. Import as a python package:
```python
from triage.experiments import SingleThreadedExperiment

experiment = SingleThreadedExperiment(
    config=experiment_config, # a dictionary
    db_engine=create_engine(...), # http://docs.sqlalchemy.org/en/latest/core/engines.html
    project_path='/path/to/directory/to/save/data' # could be an S3 path too: 's3://mybucket/myprefix/'
)
experiment.run()
```

There are a plethora of options available for experiment running, affecting things like parallelization, storage, and more. These options are detailed in the [Running an Experiment](https://dssg.github.io/triage/experiments/running/) page.

## Development

Triage was initially developed at [University of Chicago's Center For Data Science and Public Policy](http://dsapp.uchicago.edu) and is now being maintained at Carnegie Mellon University.

To build this package (without installation), its dependencies may
alternatively be installed from the terminal using `pip`:

    pip install -r requirement/main.txt

### Testing

To add test (and development) dependencies, use **test.txt**:

    pip install -r requirement/test.txt [-r requirement/dev.txt]

Then, to run tests:

    pytest

### Development Environment

To quickly bootstrap a development environment, having cloned the
repository, invoke the executable `develop` script from your system
shell:

    ./develop

A "wizard" will suggest set-up steps and optionally execute these, for
example:

    (install) begin

    (pyenv) installed

    (python-3.9.10) installed

    (virtualenv) installed

    (activation) installed

    (libs) install?
    1) yes, install {pip install -r requirement/main.txt -r requirement/test.txt -r requirement/dev.txt}
    2) no, ignore
    #? 1

### Contributing

If you'd like to contribute to Triage development, see the [CONTRIBUTING.md](https://github.com/dssg/triage/blob/master/CONTRIBUTING.md) document.

