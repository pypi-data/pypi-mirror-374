"use strict";(self.webpackChunk_jupyterlab_nbgallery_inject_uuid=self.webpackChunk_jupyterlab_nbgallery_inject_uuid||[]).push([[509],{509:(e,t,s)=>{function n(e,t){let s=e.sessionContext.session.kernel;console.log(s),"python"!=s.name&&"python3"!=s.name||s.requestExecute({code:"import os; os.environ['NBGALLERY_UUID']='"+t.uuid+"'; os.environ['NBGALLERY_GIT_COMMIT_ID']='"+t.git_commit_id+"';",silent:!0,stop_on_error:!0}),"ruby"==s.name&&(s.requestExecute({code:"ENV['NBGALLERY_UUID']='"+t.uuid+"'",silent:!0,stop_on_error:!0}),s.requestExecute({code:"ENV['NBGALLERY_GIT_COMMIT_ID']='"+t.git_commit_id+"'",silent:!0,stop_on_error:!0}))}function o(e){e.sessionContext.ready.then(()=>{let t,s=!1,o=!1;t=e.model.sharedModel.metadata.gallery,t&&t.uuid&&(n(e,t),e.sessionContext.statusChanged.connect(()=>{"restarting"==e.sessionContext.session.kernel.status&&(s=!0),"unknown"==e.sessionContext.session.kernel.status&&s&&(n(e,t),o=!0),("idle"==e.sessionContext.session.kernel.status||"busy"==e.sessionContext.session.kernel.status)&&s&&o&&(s=o=!1,n(e,t))}))})}s.r(t),s.d(t,{default:()=>i});const i={id:"@jupyterlab-nbgallery/inject-uuid",autoStart:!0,requires:[s(980).INotebookTracker],activate:(e,t)=>{t.forEach(o),t.widgetAdded.connect((e,t)=>o(t))}}}}]);