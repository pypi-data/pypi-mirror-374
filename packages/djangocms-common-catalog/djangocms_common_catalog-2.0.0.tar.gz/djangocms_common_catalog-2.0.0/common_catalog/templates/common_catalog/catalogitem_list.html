{% extends CMS_TEMPLATE %}
{% load i18n common_catalog %}

{% block content %}
    <div class="common-catalog list" data-filter_query_name="{{ filter_query_name }}">
        <div class="pagination-top">{% include "common_catalog/pagination.html" %}</div>
        {% block common_catalog_above_list %}{% endblock %}
        <div class="list-body">
            {% for item in object_list %}
                <a href="{% url "common_catalog:item" pk=item.pk %}{{ page_params|catalog_list_page_params }}" {{ item.tag_attrs }}>
                    {% block common_catalog_item %}
                        <ul class="filters above">
                            {% for filter in item|filters_in_location:"above_title" %}{# code "above_title" is defined in constants.py and can be redefined by COMMON_CATALOG_LOCATIONS in settings. #}
                                <li {{ filter.tag_attrs }}>{{ filter.name }}</li>
                            {% endfor %}
                        </ul>
                        <div class="item-content">
                            <h3 class="item-name">{{ item.name }}</h3>
                            <div class="item-more" title="{% translate "more" %}">{% translate "More" %}</div>
                            <div class="perex">{{ item.perex }}</div>
                        </div>
                        <ul class="filters bottom">
                            {% for filter in item|filters_in_location:"under_title" %}
                                <li {{ filter.tag_attrs }}>{{ filter.name }}</li>
                            {% endfor %}
                        </ul>
                    {% endblock common_catalog_item %}
                </a>
            {% empty %}
                {% block common_catalog_empty_list %}{% endblock %}
            {% endfor %}
        </div>
        {% block common_catalog_below_list %}{% endblock %}
        <div class="pagination-bottom">{% include "common_catalog/pagination.html" %}</div>
    </div>
{% endblock content %}
