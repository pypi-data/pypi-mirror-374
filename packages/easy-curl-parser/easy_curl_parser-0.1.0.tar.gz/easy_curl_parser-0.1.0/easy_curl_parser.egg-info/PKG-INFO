Metadata-Version: 2.4
Name: easy-curl-parser
Version: 0.1.0
Summary: ä¸€ä¸ªç”¨äºè§£æcURLå‘½ä»¤çš„Pythonåº“
Author-email: RosApr <287134285@qq.com>
License: MIT
Project-URL: Homepage, https://github.com/RosApr/curl-parser
Project-URL: Bug Reports, https://github.com/RosApr/curl-parser/issues
Project-URL: Source, https://github.com/RosApr/curl-parser
Keywords: curl,parser,http,request
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: End Users/Desktop
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Internet :: WWW/HTTP
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Networking
Classifier: Topic :: Utilities
Classifier: Topic :: Text Processing :: Markup
Classifier: Topic :: System :: Systems Administration
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Provides-Extra: dev
Dynamic: license-file

# cURL å‘½ä»¤è§£æå™¨

ä¸€ä¸ªç”¨äºè§£æcURLå‘½ä»¤è¡Œå¹¶å°†å…¶è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®çš„Pythonåº“ã€‚

## ç‰¹æ€§

- ğŸ”„ **å‘½ä»¤è§£æ**: è§£ææ ‡å‡†çš„ cURL å‘½ä»¤å¹¶æå–å…³é”®ä¿¡æ¯
- ğŸ“Š **ç»“æ„åŒ–è¾“å‡º**: å°†è§£æç»“æœè½¬æ¢ä¸ºç»“æ„åŒ–çš„æ•°æ®æ ¼å¼
- ğŸŒ **å¤šç§è¾“å…¥**: æ”¯æŒå‘½ä»¤è¡Œç›´æ¥è¾“å…¥ã€æ–‡ä»¶è¯»å–å’Œç®¡é“è¾“å…¥
- ğŸ“‹ **å…¨é¢æ”¯æŒ**: æ”¯æŒ HTTP æ–¹æ³•ã€è¯·æ±‚å¤´ã€Cookieã€è¯·æ±‚ä½“ç­‰å¸¸è§é€‰é¡¹
- ğŸ” **å‚æ•°æå–**: è‡ªåŠ¨è§£æ URL æŸ¥è¯¢å‚æ•°å’Œè¡¨å•æ•°æ®
- ğŸ› ï¸ **CLI å·¥å…·**: æä¾›å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒ JSON å’Œæ–‡æœ¬æ ¼å¼è¾“å‡º

## æ”¯æŒçš„ cURL é€‰é¡¹

- `-X, --request`: HTTP è¯·æ±‚æ–¹æ³• (GET, POST, PUT, DELETE ç­‰)
- `-H, --header`: è¯·æ±‚å¤´è®¾ç½®
- `-d, --data`: è¯·æ±‚ä½“æ•°æ®
- `-b, --cookie`: Cookie è®¾ç½®
- `-F, --form`: è¡¨å•æ•°æ®
- `-u, --user`: ç”¨æˆ·è®¤è¯
- `-L, --location`: è·Ÿéšé‡å®šå‘
- `-k, --insecure`: å¿½ç•¥ SSL è¯ä¹¦éªŒè¯
- `-v, --verbose`: è¯¦ç»†è¾“å‡º
- `-o, --output`: è¾“å‡ºåˆ°æ–‡ä»¶


## å®‰è£…

```bash
pip install curl-parser
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œå·¥å…·

```bash
# ç›´æ¥è§£æ cURL å‘½ä»¤
python curl_parser/cli.py 'curl -H "Accept: application/json" https://api.example.com'

# ä»æ–‡ä»¶è¯»å– cURL å‘½ä»¤
python curl_parser/cli.py -f curl_command.txt

# é€šè¿‡ç®¡é“è¾“å…¥
echo 'curl https://example.com' | python curl_parser/cli.py

# JSON æ ¼å¼è¾“å‡º
python curl_parser/cli.py -j 'curl https://example.com'

# è¾“å‡ºåˆ°æ–‡ä»¶
python curl_parser/cli.py -o result.txt 'curl https://example.com'
```

### Python API

```python
from curl_parser import parse_curl

# è§£æcURLå‘½ä»¤
curl_command = "curl 'http://example.com' -H 'Accept: application/json'"
result = parse_curl(curl_command)

# è·å–è§£æåçš„æ•°æ®
print(result.parsed_data.url)  # http://example.com
print(result.parsed_data.headers)  # {'Accept': 'application/json'}
```

## æ•°æ®ç»“æ„

`parse_curl` å‡½æ•°è¿”å› `CurlParseResult` å¯¹è±¡ï¼ŒåŒ…å«ï¼š

- `parsed_data`: è§£æåçš„æ•°æ®ï¼Œç±»å‹ä¸º `ParsedCurlData`
- `unresolved_data`: æœªè¢«è§£æçš„æ•°æ®

`ParsedCurlData` åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- `url`: è¯·æ±‚URL
- `params`: URLæŸ¥è¯¢å‚æ•°
- `headers`: è¯·æ±‚å¤´
- `cookies`: Cookie
- `data`: è¯·æ±‚ä½“æ•°æ®
- `request`: è¯·æ±‚æ–¹æ³• (é»˜è®¤ä¸º "GET")

## ç¤ºä¾‹

```python
from curl_parser import parse_curl

curl_command = '''
curl 'http://localhost:155/common/sso/login?_t=1757126032510_JG9BY' \
  -H 'Accept: application/json, text/plain, */*' \
  -H 'Content-Type: application/x-www-form-urlencoded;charset=UTF-8' \
  -b 'locale=und' \
  --data-raw 'username=erdcadmin&password=GaSkDZ2dZOmracDMTMoRy9uqMnxa46FK3OHnE1ppGbuz9clTDWb+nZDVdFqoatPL'
'''

result = parse_curl(curl_command)
print(result.parsed_data.url)  # http://localhost:155/common/sso/login
print(result.parsed_data.params)  # {'_t': '1757126032510_JG9BY'}
print(result.parsed_data.request)  # POST
```

## å¼€å‘

### å®‰è£…å¼€å‘ä¾èµ–

```bash
git clone https://github.com/RosApr/curl-parser.git
cd curl-parser
pip install -e .
```

### è¿è¡Œæµ‹è¯•

```bash
python ./test/test_parser.py
```

## è®¸å¯è¯

MIT

## è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜å’ŒPull Requestï¼
