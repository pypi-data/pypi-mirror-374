[tool.poetry]
name = "s3table"
version = "0.0.2"
description = "A Python package for managing Iceberg tables in AWS S3 in any regions"
authors = ["Danh Phan <danh.phan.mq@gmail.com>"]
license = "Apache-2.0"
readme = "README.md"
packages = [{include = "s3table"}]

[tool.poetry.dependencies]
python = ">=3.9,<3.14"
pyiceberg = ">=0.5.0,<1.0"
boto3 = ">=1.28.0"
requests = ">=2.20.0,<3.0.0"
click = ">=7.1.1,<9.0.0"
rich = ">=10.11.0,<14.0.0"
fsspec = ">=2023.1.0"
pyarrow = { version = ">=17.0.0,<=20.0.0", optional = true }
pandas = { version = ">=1.0.0,<3.0.0", optional = true }
duckdb = { version = ">=0.5.0,<2.0.0", optional = true }

[tool.poetry.group.dev.dependencies]
pytest = "7.4.4"
pytest-checkdocs = "2.13.0"
pytest-lazy-fixture = "0.6.3"
pre-commit = "4.1.0"
fastavro = "1.10.0"
coverage = { version = "^7.4.2", extras = ["toml"] }
requests-mock = "1.12.1"
moto = { version = "^5.0.2", extras = ["server"] }
typing-extensions = "4.12.2"
pytest-mock = "3.14.0"
pyspark = "3.5.5"
cython = "3.0.12"
deptry = ">=0.14,<0.24"
datafusion = ">=44,<46"
docutils = "!=0.21.post1"   # https://github.com/python-poetry/poetry/issues/9248#issuecomment-2026240520

[tool.poetry.group.docs.dependencies]
# for mkdocs
mkdocs = "1.6.1"
griffe = "1.5.7"
jinja2 = "3.1.5"
mkdocstrings = "0.28.1"
mkdocstrings-python = "1.16.1"
mkdocs-literate-nav = "0.6.1"
mkdocs-autorefs = "1.3.1"
mkdocs-gen-files = "0.5.0"
mkdocs-material = "9.6.5"
mkdocs-material-extensions = "1.3.1"
mkdocs-section-index = "0.3.9"

[build-system]
requires = ["poetry-core>=1.0.0", "wheel", "Cython>=3.0.0", "setuptools"]
build-backend = "poetry.core.masonry.api"

[tool.poetry.build]
generate-setup-file = false
