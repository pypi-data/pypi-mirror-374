import{d as D,V as h,a as k,b as C,v as x,I as o,a5 as u,a4 as M,B as N,y as Y,a$ as I,J as b,K as B,r as H,o as S,c as V,e as j,f as q,h as c,t as L,j as i,M as R,H as T,O as w,R as A}from"./index-Bl6WO0OO.js";import{g as P}from"./autoCali-CP7mpU2f.js";import{d as m}from"./dayjs.min-D4yLqGxV.js";const U={class:"text-xl mb-5"},K=D({__name:"AutoCaliList",setup($){const p=h(),{t}=k(),_=C(),n=x(),d=(e,a)=>{_.push({name:"autoCaliConfig",query:{session_id:e,resource_id:a,device_group_name:n.query.device_group_name}})},g=[{key:"cali_session_id",width:120,title:"Session ID"},{key:"task_name",title:t("groupDetail.autoCali.taskName")},{key:"device_group_name",title:t("groupDetail.autoCali.groupName")},{key:"space_name",title:t("groupDetail.autoCali.spaceName"),render(e){return o("a",{style:{color:p.value.infoColor},href:["/groupDetail/parameterManager?device_group_name=",e.device_group_name,"&space_id=",e.space_id].join(""),target:"_blank"},e.space_name)}},{key:"start_time",title:t("groupDetail.autoCali.startTime"),render(e){return e.start_time?m(e.start_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"end_time",title:t("groupDetail.autoCali.endTime"),render(e){return e.end_time?m(e.end_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"status",title:t("groupDetail.autoCali.status"),width:150,render(e){return o(M,{color:{color:u[e.status].color},class:"w-20 flex items-center justify-center !text-white"},{default:()=>t(u[e.status].text)})}},{key:"detail",title:t("groupDetail.autoCali.detail"),width:100,align:"center",render(e){return o(N,{quaternary:!0,type:"primary",class:"!w-16",onClick:()=>d(e.cali_session_id,e.resource_id)},{icon:()=>o(Y,{component:I})})}}],s=b({page:1,per_page:B,total:0}),r=H(),l=async()=>{const[e,a]=await P({...A(s),device_group_name:n.query.device_group_name});!e&&a&&a.status===0&&(r.value=a.data.list,s.total=a.data.total)};return S(()=>{l()}),(e,a)=>{const f=R,y=w;return j(),V("div",null,[q("div",U,L(i(t)("groupDetail.autoCali.tabName")),1),c(f,{data:i(r),columns:g,"max-height":"calc(100vh - 400px)"},null,8,["data"]),c(y,{"page-info":i(s),"onUpdate:pageInfo":a[0]||(a[0]=v=>T(s)?s.value=v:null),onUpdateList:l},null,8,["page-info"])])}}});export{K as default};
