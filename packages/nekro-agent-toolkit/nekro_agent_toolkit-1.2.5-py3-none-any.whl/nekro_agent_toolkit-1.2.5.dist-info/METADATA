Metadata-Version: 2.4
Name: nekro-agent-toolkit
Version: 1.2.5
Summary: Nekro Agent å®‰è£…ã€æ›´æ–°ä¸å¤‡ä»½çš„ç»Ÿä¸€ç®¡ç†å·¥å…·
Home-page: https://github.com/greenhandzdl/nekro-agent-toolkit
Author: greenhandzdl
Author-email: greenhandzdl@greenhandzdl.moe
License: MIT
Project-URL: Homepage, https://github.com/greenhandzdl/nekro-agent-toolkit
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE
Dynamic: author-email
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

[Read this in English](./doc/README-EN.md)

# Nekro Agent Toolkit

Nekro Agent Toolkit æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿéƒ¨ç½² Nekro Agent åŠå…¶ç›¸å…³æœåŠ¡çš„ä¸“ä¸šå®‰è£…å·¥å…·ã€‚å®ƒç®€åŒ–äº†åŸºäº Docker çš„ QQ æœºå™¨äººæœåŠ¡éƒ¨ç½²æµç¨‹ï¼Œæä¾›å®Œæ•´çš„å®‰è£…ã€æ›´æ–°ã€å¤‡ä»½å’Œæ¢å¤è§£å†³æ–¹æ¡ˆã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸš€ ç»Ÿä¸€ç®¡ç†
- **ä¸€ä½“åŒ–å·¥å…·**ï¼šé€šè¿‡å•ä¸€ `app.py` è„šæœ¬å¤„ç†æ‰€æœ‰æ“ä½œ
- **æ™ºèƒ½ç¯å¢ƒæ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«æºç è¿è¡Œå’ŒåŒ…å®‰è£…ç¯å¢ƒ
- **åŠ¨æ€å‘½ä»¤æç¤º**ï¼šæ ¹æ®è¿è¡Œç¯å¢ƒæ˜¾ç¤ºæ­£ç¡®çš„å‘½ä»¤æ ¼å¼
- **ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤º**ï¼šæºç è¿è¡Œæ˜¾ç¤º Git SHAï¼ŒåŒ…å®‰è£…æ˜¾ç¤ºç‰ˆæœ¬å·

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- **è‡ªåŠ¨è¯­è¨€æ£€æµ‹**ï¼šæ ¹æ®ç³»ç»Ÿç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢ä¸­è‹±æ–‡ç•Œé¢
- **å®Œæ•´å›½é™…åŒ–**ï¼šæ‰€æœ‰ç”¨æˆ·æ¶ˆæ¯æ”¯æŒå¤šè¯­è¨€æ˜¾ç¤º
- **æ‰‹åŠ¨åˆ‡æ¢**ï¼šå¯é€šè¿‡ç¯å¢ƒå˜é‡å¼ºåˆ¶æŒ‡å®šè¯­è¨€

### ğŸ³ Docker å·æ™ºèƒ½ç®¡ç†
- **åŠ¨æ€å‘ç°**ï¼šè‡ªåŠ¨å‘ç°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ Docker å·è¿›è¡Œå¤‡ä»½
- **åç¼€åŒ¹é…**ï¼šä¸¥æ ¼åç¼€åŒ¹é…ï¼Œå¦‚ `my_app-nekro_postgres_data`
- **è·¨å¹³å°å¤‡ä»½**ï¼šLinux ç›´æ¥è®¿é—®ï¼ŒmacOS/Windows å®¹å™¨åŒ–å¤‡ä»½

### ğŸ›¡ï¸ æ™ºèƒ½å¤‡ä»½ç³»ç»Ÿ
- **ç²¾ç¡®è¿‡æ»¤**ï¼šè‡ªåŠ¨æ’é™¤æ—¥å¿—ã€ä¸Šä¼ æ–‡ä»¶ã€ä¸´æ—¶æ–‡ä»¶ç­‰
- **å‹ç¼©ä¼˜åŒ–**ï¼šä¼˜å…ˆä½¿ç”¨ zstd å‹ç¼©ï¼Œæ˜¾è‘—å‡å°å¤‡ä»½ä½“ç§¯
- **è·¨å¹³å°å…¼å®¹**ï¼šåŒä¸€å¤‡ä»½æ–‡ä»¶å¯åœ¨ä¸åŒç³»ç»Ÿé—´æ¢å¤

## ğŸ’» ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šLinux / macOS / Windowsï¼ˆé€šè¿‡ Docker Desktopï¼‰
- **Python ç‰ˆæœ¬**ï¼šPython 3.6+ ï¼ˆå…¼å®¹æ€§è€ƒè™‘ï¼‰
- **å¿…éœ€è½¯ä»¶**ï¼š
  - Dockerï¼ˆå¿…éœ€ï¼‰
  - Docker Compose v1 æˆ– v2ï¼ˆå¿…éœ€ï¼‰
- **å¯é€‰è½¯ä»¶**ï¼š
  - `zstd` å‹ç¼©å·¥å…·ï¼ˆæ¨èï¼Œç”¨äºåˆ›å»ºæ›´å°çš„å¤‡ä»½æ–‡ä»¶ï¼‰
  - `ufw` é˜²ç«å¢™å·¥å…·ï¼ˆLinux ä¸Šå¯é€‰ï¼‰
- **æƒé™è¦æ±‚**ï¼šç®¡ç†å‘˜æƒé™ï¼ˆsudoï¼‰

## ğŸš€ å®‰è£…æ–¹å¼

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ pip å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…æœ€æ–°ç‰ˆæœ¬
pip install nekro-agent-toolkit

# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
pip install --upgrade nekro-agent-toolkit
```

å®‰è£…å®Œæˆåï¼Œå³å¯ç›´æ¥ä½¿ç”¨ `nekro-agent-toolkit` å‘½ä»¤ï¼š

```bash
# åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º na_data çš„æ–‡ä»¶å¤¹ï¼Œå¹¶å®‰è£…æœåŠ¡
nekro-agent-toolkit --install ./na_data

# æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯
nekro-agent-toolkit --version

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
nekro-agent-toolkit --help
```

### æ–¹æ³•äºŒï¼šä»æºç è¿è¡Œ

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-repo/nekro-agent-toolkit.git
cd nekro-agent-toolkit

# å®‰è£…ä¾èµ–ï¼ˆå¯é€‰ï¼‰
pip install -r requirements.txt

# è¿è¡Œå®‰è£…
python3 app.py --install ./na_data

# æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼ˆæ˜¾ç¤º Git SHAï¼‰
python3 app.py --version
```

## ğŸ“š ä½¿ç”¨æŒ‡å—

### ğŸŒ å¤šè¯­è¨€ç•Œé¢

é¡¹ç›®æ”¯æŒä¸­è‹±æ–‡ç•Œé¢è‡ªåŠ¨åˆ‡æ¢ï¼Œæ ¹æ®ç³»ç»Ÿè¯­è¨€ç¯å¢ƒè‡ªåŠ¨è¯†åˆ«ï¼š

```bash
# ä¸­æ–‡ç¯å¢ƒ
LANG=zh_CN.UTF-8 nekro-agent-toolkit --help

# è‹±æ–‡ç¯å¢ƒ
LANG=en_US.UTF-8 nekro-agent-toolkit --help

# è‡ªåŠ¨æ£€æµ‹ï¼ˆé»˜è®¤ï¼‰
nekro-agent-toolkit --help
```

### ğŸ“ ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤º

é¡¹ç›®æ”¯æŒæ™ºèƒ½ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤ºï¼š

```bash
# æºç è¿è¡Œæ—¶æ˜¾ç¤º Git SHA
python3 app.py --version
# è¾“å‡ºç¤ºä¾‹: nekro-agent-toolkit (æºç ) a1b2c3d4

# åŒ…å®‰è£…è¿è¡Œæ—¶æ˜¾ç¤ºç‰ˆæœ¬å·
nekro-agent-toolkit --version
# è¾“å‡ºç¤ºä¾‹: nekro-agent-toolkit 1.2.4

# å¦‚æœæœ‰æœªæäº¤çš„ä¿®æ”¹ï¼Œä¼šæ˜¾ç¤º (dirty)
# è¾“å‡ºç¤ºä¾‹: nekro-agent-toolkit (æºç ) a1b2c3d4 (dirty)
```

### ğŸš€ åŸºæœ¬å®‰è£…

#### æ ‡å‡†å®‰è£…

```bash
# åŸºæœ¬å®‰è£…ï¼ˆä»… Nekro Agent ä¸»æœåŠ¡ï¼‰
nekro-agent-toolkit --install ./na_data

# å« NapCat QQ æœºå™¨äººæœåŠ¡çš„å®‰è£…
nekro-agent-toolkit --install ./na_data --with-napcat

# é¢„æ¼”æ¨¡å¼ï¼ˆä»…ç”Ÿæˆé…ç½®ï¼Œä¸æ‰§è¡Œå®é™…å®‰è£…ï¼‰
nekro-agent-toolkit --install ./na_data --dry-run

# è‡ªåŠ¨ç¡®è®¤æ¨¡å¼ï¼ˆæ— éœ€äº¤äº’ç¡®è®¤ï¼‰
nekro-agent-toolkit --install ./na_data --yes
```

#### ç»„åˆé€‰é¡¹

```bash
# å®Œæ•´å®‰è£…ï¼šåŒ…å« NapCat + è‡ªåŠ¨ç¡®è®¤
nekro-agent-toolkit --install ./na_data --with-napcat --yes

# å®‰å…¨é¢„æ¼”ï¼šåœ¨æ­£å¼å®‰è£…å‰é¢„è§ˆæ“ä½œ
nekro-agent-toolkit --install ./na_data --with-napcat --dry-run
```

### ğŸ”„ æœåŠ¡æ›´æ–°

#### éƒ¨åˆ†æ›´æ–°ï¼ˆæ¨èï¼‰

ä»…æ›´æ–° Nekro Agent æ ¸å¿ƒæœåŠ¡å’Œæ²™ç®±é•œåƒï¼Œä¿ç•™æ•°æ®åº“ç­‰ç»„ä»¶ï¼š

```bash
# æ ‡å‡†éƒ¨åˆ†æ›´æ–°
nekro-agent-toolkit --update ./na_data

# æºç è¿è¡Œ
python3 app.py --update ./na_data
```

#### å®Œå…¨æ›´æ–°ï¼ˆå‡çº§ï¼‰

æ›´æ–°æ‰€æœ‰ Docker é•œåƒï¼ˆåŒ…æ‹¬æ•°æ®åº“ç­‰ï¼‰å¹¶é‡å¯å®¹å™¨ï¼š

```bash
# å®Œå…¨å‡çº§ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
nekro-agent-toolkit --upgrade ./na_data

# æºç è¿è¡Œ
python3 app.py --upgrade ./na_data
```

**æ³¨æ„**ï¼šå®Œå…¨æ›´æ–°å¯èƒ½å½±å“æ•°æ®åº“ç­‰ç»„ä»¶ï¼Œå»ºè®®åœ¨æ“ä½œå‰å…ˆè¿›è¡Œå¤‡ä»½ã€‚

### ğŸ’¾ å¤‡ä»½ä¸æ¢å¤

æœ¬å·¥å…·æä¾›å…ˆè¿›çš„è·¨å¹³å°å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½ï¼Œæ”¯æŒ Linuxã€macOS å’Œ Windows ç³»ç»Ÿã€‚

### ğŸ’¾ å¤‡ä»½æ“ä½œ

```bash
nekro-agent-toolkit --backup ./na_data ./backups
```

å¤‡ä»½ç‰¹æ€§ï¼š
- è‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½æ–‡ä»¶
- åŠ¨æ€å‘ç°ç¬¦åˆæ¡ä»¶çš„ Docker å·
- æ™ºèƒ½æ–‡ä»¶è¿‡æ»¤ï¼Œä¼˜å…ˆä½¿ç”¨ zstd å‹ç¼©

### ğŸ”„ æ¢å¤æ“ä½œ

```bash
nekro-agent-toolkit --recovery ./backups/na_backup_1678886400.tar.zstd ./na_data_new
```

æ¢å¤ç‰¹æ€§ï¼š
- æ”¯æŒ `.tar` å’Œ `.tar.zstd` æ ¼å¼
- è‡ªåŠ¨åˆ›å»ºç¼ºå¤±çš„ Docker å·
- è·¨å¹³å°å…¼å®¹

### ğŸš€ æ¢å¤å¹¶å®‰è£…

```bash
nekro-agent-toolkit --recover-install ./backups/na_backup_1678886400.tar.zstd ./na_data_new
```

ä¸€æ­¥å®Œæˆæ¢å¤å’Œå®‰è£…ï¼Œé€‚ç”¨äºæ–°ç¯å¢ƒéƒ¨ç½²ã€‚

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯

### è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼è¯·å‚è€ƒ [`doc/REGULATE.md`](./doc/REGULATE.md) äº†è§£è¯¦ç»†çš„å¼€å‘è§„èŒƒã€‚

### è®¸å¯è¯

è¯·å‚è€ƒ [Nekro Agent é¡¹ç›®](https://github.com/KroMiose/nekro-agent)å’Œ[æœ¬é¡¹ç›®](./LICENSE) è·å–è®¸å¯è¯ä¿¡æ¯ã€‚
