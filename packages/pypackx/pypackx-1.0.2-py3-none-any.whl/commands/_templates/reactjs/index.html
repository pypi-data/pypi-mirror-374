<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>PyPack + React (JS) + Tailwind</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./bundle.js"></script>
<script>
  const es = new EventSource('/livereload');

  // Full reload for JS
  es.addEventListener('reload', () => location.reload());
  es.onmessage = (e) => { if (e.data === 'reload') location.reload(); };

  // CSS hot-swap (no flash)
  es.addEventListener('css', () => {
    const href = '/styles.css';
    const link = [...document.querySelectorAll('link[rel="stylesheet"]')]
      .find(l => (l.getAttribute('href') || '').startsWith(href));
    if (!link) return;
    const next = link.cloneNode();
    next.href = href + '?v=' + Date.now();
    next.onload = () => link.remove();
    link.after(next);
  });
</script>


  </body>
</html>
