# AI Changelog

- Moved Makefile into scripts/convert-diagrams/ - complete unified package
- Updated all Makefile paths to work from convert-diagrams directory
- All diagram conversion tools now in single self-contained directory
- Updated README files to reflect Makefile is part of conversion package
- Fixed architecture diagrams with proper drawing style and visible text
- Updated diagrams to use 5-color palette on black background (drawing style)

## 2025-01-13
- Created comprehensive documentation (architecture, config, pipeline guides)

## 2025-01-13
- Renamed src/bricks_and_graphs to src/bag for brevity

## 2025-01-13
- âœ… Created Python project skeleton with uv, library, CLI, and FastAPI
- ğŸ§ª **ENFORCED MANDATORY TESTABILITY**: Updated Cursor rules to require 85% test coverage
- ğŸš¨ Made all code creation conditional on comprehensive test coverage
- ğŸ“ Updated code patterns for bricks-and-graphs agentic framework
- âš™ï¸  Enhanced pyproject.toml with strict coverage requirements (fail_under = 85)
- ğŸ“– Updated README to emphasize mandatory testing requirements
- ğŸ”„ Renamed project from legos-and-graphs to bricks-and-graphs throughout codebase
- âœ… Committed and pushed all project rename changes to repository
- ğŸ—ï¸ Implemented core framework: AgentBrick, AgentNode, AgentGraph classes
- ğŸ”„ Added networkx integration for graph analytics and management
- ğŸ“ Created YAML/JSON config loading with BrickRegistry pattern
- ğŸ”§ Fixed ruff TC->TC lint rule & updated to new ruff.lint config
- âœ… Added comprehensive tests for core framework (91% coverage achieved)
- ğŸ§± Implemented PromptBrick for template-based prompt management
- ğŸ”„ Created ProcessorBrick with multi-format I/O (JSON/YAML/Arrow/Pandas/Polars)
- ğŸš¦ Added RouterBrick with conditional, field-based, and weighted routing
- ğŸ“¦ Added dependencies: litellm, pyarrow, pandas, polars, nest-asyncio
- ğŸ“š Enhanced README with comprehensive API examples and documentation
- ğŸ”¨ Installed and configured pre-commit hooks for code quality
- ğŸ”§ Configured mypy to focus on internal code, ignore external deps
- ğŸšš Renamed src/bricks_and_graphs to src/bag for shorter imports
- ğŸ”„ Updated CLI commands: bricks-and-graphs â†’ bag, server â†’ bag-server
- ğŸ³ Added GitHub Actions workflows for testing and Docker builds
- ğŸ“¦ Created Docker image with Python 3.12, health checks, non-root user
- ğŸ”§ Fixed ruff lint config to use proper lint section in pyproject.toml
- ğŸ”„ Updated GitHub Actions to use pre-commit for consistency with local
- ğŸ”„ Consolidated test.yml and docker.yml into single ci.yml workflow
- ğŸ”§ Removed Codecov integration from CI (no account setup yet)
- âœ… Added validation: max one router brick per node, cycles need exits
- ğŸš¨ Added custom exceptions: MultipleRouterBricksError, NoExitPathError
- ğŸ”§ Graph.execute() now validates before running, ensures safety
- âœ¨ Added AgentContext for shared state across graph execution
- ğŸ”„ One AgentContext per AgentGraph, accessible by all nodes/bricks
- ğŸ“ AgentContext provides flexible key-value storage for any data type
- ğŸ”„ Refactored AgentContext to use properties and dict-style access
- âœ¨ Added magic methods: __getitem__, __setitem__, __contains__, __len__
- ğŸ“Š New properties: keys, values, items, is_empty, data
- ğŸ¤– Added LiteLLM integration at AgentGraph level
- ğŸ“¦ LiteLLMConfig & LiteLLMModelConfig for multi-model setup
- ğŸ”„ LiteLLM manager propagates automatically to all nodes
- âš™ï¸ Each graph gets one LiteLLM instance, shared by all nodes
- ğŸ“ Added examples/litellm_config.yaml with GPT-4 & Claude configs
- ğŸ¯ Added node.run() for orchestrated brick execution flow
- ğŸ”„ run() executes: promptsâ†’LLMâ†’processorsâ†’router in sequence
- ğŸ“Š Processors receive LLM response, pass outputs in chain
- ğŸš¦ Router makes decisions based on final processor output
- ğŸ“ Added examples/node_run_example.py demonstrating the flow
- ğŸ“ Organized examples into topic-based subdirectories
- âœ… Created & tested examples: basic, litellm, node_execution, config
- ğŸ“„ Added README files for each example directory
- ğŸ”§ Created complete YAML-based graph configuration example
- ğŸ§ª Fixed and tested all examples to ensure they work
- ğŸ”„ Fixed LiteLLM async issues: replaced completion() with acompletion()
- ğŸ“¦ Added tenacity>=8.2.0 dependency for LiteLLM retry functionality
- ğŸ› Fixed Anthropic system message handling for Claude models
- ğŸ“ Fixed Pydantic deprecation warnings: .dict() â†’ .model_dump()
- âœ… All advanced_llm examples now run successfully with uv
- ğŸš€ Added GitHub Actions workflow for automated PyPI publishing
- ğŸ“¦ Created PyPI publishing documentation and version bump script
- ğŸ§ª Added workflow for testing package installation across platforms
- ğŸ“‹ Updated README with PyPI installation instructions and badge
- ğŸ”§ Simplified PyPI workflow to use API tokens instead of trusted publishing
- ğŸ—‘ï¸ Removed test-pypi-install workflow to keep setup simple
- ğŸ¯ Removed Test PyPI support from publish workflow for maximum simplicity
- ğŸ§± Added FoundationBrick: provides foundational data to other bricks
- ğŸ“‹ FoundationBrick runs first in node execution, only one per node allowed
- ğŸ—ï¸ Added DataFoundationBrick, ContextFoundationBrick, ComputedFoundationBrick
- âœ… Added comprehensive tests and examples for FoundationBrick (100% coverage)
- ğŸ Added macOS .DS_Store files to .gitignore
- ğŸ”§ Fixed examples: added environment variable expansion to litellm config
- ğŸ§ª Fixed node_execution example: added handler bricks to prevent validation errors
- ğŸ“ Fixed Pydantic deprecation warning in litellm example (.dict() â†’ .model_dump())
- âœ… All examples now run successfully without errors
