[build-system]
requires = ["uv_build>=0.8.13,<0.9.0"]
build-backend = "uv_build"

[project]
name = "hassette"
version = "0.2.0"
description = "Hassette is a modern, asynchronous, fully typed Python framework for running Home Assistant scripts and automations."
authors = [{ name = "Jessica", email = "12jessicasmith34@gmail.com" }]
license = "MIT"
requires-python = ">=3.11,<3.14"
dependencies = [
    "aiohttp>=3.11.18",
    "anyio>=4.10.0",
    "coloredlogs>=15.0.1",
    "croniter>=6.0.0",
    "orjson>=3.10.18",
    "packaging>=25.0",
    "platformdirs>=4.3.8",
    "pydantic-settings>=2.9.1",
    "python-dotenv>=1.1.0",
    "tenacity>=9.1.2",
    "whenever>=0.8.4",
]


[dependency-groups]
dev = []
test = [
    "docker>=7.1.0",
    "nox>=2025.5.1",
    "pytest>=8.4.0",
    "pytest-asyncio>=1.0.0",
    "pytest-randomly>=3.16.0",
]
model_gen = ["datamodel-code-generator>=0.30.1"]

[tool.uv]
default-groups = ["dev", "test"]

[project.scripts]
run-hassette = "hassette.__main__:entrypoint"


[tool.pytest.ini_options]
pythonpath = "src"
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "session"
asyncio_default_test_loop_scope = "session"
markers = [
    "requires_ha: requires our test-homeassistant container to be running",
]
