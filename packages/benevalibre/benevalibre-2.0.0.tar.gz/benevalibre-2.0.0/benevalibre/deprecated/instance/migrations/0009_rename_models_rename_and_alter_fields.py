# Generated by Django 5.2 on 2025-05-15 13:01

import benevalibre.validators
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('instance', '0008_alter_instancemessage_author'),
        ('association', '0019_delete_old_association_thumbnails'),
        ('benevalo', '0006_alter_benevalo_null_user_and_add_visitor'),
    ]

    operations = [
        migrations.RenameModel('InstanceCategory', 'DefaultBenevaloCategory'),
        migrations.RenameModel('DefaultLevel', 'DefaultBenevaloLevel'),
        migrations.RenameModel('TermsOfUse', 'InstanceSettings'),
        migrations.RenameModel('InstanceMessage', 'Announcement'),
        migrations.DeleteModel('DefaultCategory'),
        migrations.AlterModelOptions(
            name='announcement',
            options={'verbose_name': 'annonce', 'verbose_name_plural': 'annonces'},
        ),
        migrations.AlterModelOptions(
            name='defaultbenevalocategory',
            options={'verbose_name': 'catégorie de bénévolat par défaut', 'verbose_name_plural': 'catégories de bénévolat par défaut'},
        ),
        migrations.AlterModelOptions(
            name='defaultbenevalolevel',
            options={'verbose_name': 'niveau de bénévolat par défaut', 'verbose_name_plural': 'niveaux de bénévolat par défaut'},
        ),
        migrations.AlterModelOptions(
            name='instancesettings',
            options={'verbose_name': "paramètres de l'instance"},
        ),
        migrations.RemoveField(
            model_name='announcement',
            name='broadcast_date',
        ),
        migrations.RenameField(
            model_name="defaultrole",
            old_name="new_comers",
            new_name="is_default",
        ),
        migrations.RenameField(
            model_name="defaultrole",
            old_name="list_users",
            new_name="list_members",
        ),
        migrations.RenameField(
            model_name="defaultrole",
            old_name="delegates",
            new_name="manage_members",
        ),
        migrations.RenameField(
            model_name="defaultrole",
            old_name="manage_categories",
            new_name="manage_benevalo_categories",
        ),
        migrations.RenameField(
            model_name="defaultrole",
            old_name="manage_levels",
            new_name="manage_benevalo_levels",
        ),
        migrations.RenameField(
            model_name='instancesettings',
            old_name='file',
            new_name='terms_of_use_file',
        ),
        migrations.AddField(
            model_name='announcement',
            name='publication_date',
            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='date de publication'),
        ),
        migrations.AddField(
            model_name='announcement',
            name='title',
            field=models.CharField(default='', max_length=200, verbose_name='titre'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='instancesettings',
            name='site_name',
            field=models.CharField(default='Bénévalibre', help_text="Ce nom est notamment utilisé dans les courriels envoyés par l'application, ainsi que dans l'en-tête des pages.", max_length=150, verbose_name="nom de l'instance"),
        ),
        migrations.AlterField(
            model_name='announcement',
            name='content',
            field=models.TextField(blank=True, verbose_name='contenu'),
        ),
        migrations.AlterField(
            model_name='announcement',
            name='expiration_date',
            field=models.DateTimeField(blank=True, null=True, verbose_name="date d'expiration"),
        ),
        migrations.AlterField(
            model_name='announcement',
            name='target',
            field=models.CharField(choices=[('ALL', 'Tout le monde'), ('MNG', "Les responsables d'association")], default='ALL', max_length=3, verbose_name='cible'),
        ),
        migrations.AlterField(
            model_name='defaultbenevalocategory',
            name='description',
            field=models.TextField(blank=True, default='', verbose_name='description'),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name='defaultbenevalolevel',
            name='description',
            field=models.TextField(blank=True, default='', verbose_name='description'),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='description',
            field=models.TextField(blank=True, default='', verbose_name='description'),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='is_default',
            field=models.BooleanField(default=False, help_text='Ce rôle sera attribué automatiquement à chaque nouveau membre.', verbose_name='par défaut'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='list_members',
            field=models.BooleanField(default=False, verbose_name='lister les membres'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_association',
            field=models.BooleanField(default=False, help_text="Cette permission donne à un membre tous les droits de gestion de l'association, entraînant de fait toutes les autres.", verbose_name="gérer l'association"),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_benevalo_categories',
            field=models.BooleanField(default=False, verbose_name='gérer les catégories de bénévolat'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_benevalo_levels',
            field=models.BooleanField(default=False, verbose_name='gérer les niveaux de bénévolat'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_benevalos',
            field=models.BooleanField(default=False, verbose_name='gérer les actions de bénévolat'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_members',
            field=models.BooleanField(default=False, verbose_name='gérer les membres'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_projects',
            field=models.BooleanField(default=False, verbose_name='gérer les projets'),
        ),
        migrations.AlterField(
            model_name='defaultrole',
            name='manage_roles',
            field=models.BooleanField(default=False, verbose_name='gérer les rôles'),
        ),
        migrations.AlterField(
            model_name='instancesettings',
            name='terms_of_use_file',
            field=models.FileField(blank=True, null=True, upload_to='terms', validators=[benevalibre.validators.FileTypeValidator(allowed_types=['application/pdf'], message='Veuillez choisir un fichier PDF valide.')], verbose_name="charte d'utilisation"),
        ),
    ]
