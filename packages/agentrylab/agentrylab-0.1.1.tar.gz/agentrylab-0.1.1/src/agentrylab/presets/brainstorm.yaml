#########################
# Brainstorm preset
# Perfect for llama3 - creative thinking without constraints
#########################

version: "1.0.0"
id: brainstorm
name: Brainstorm Session
description: Two creative minds brainstorming ideas together.

# Optional user seed topic
objective: ${BRAINSTORM_TOPIC:Let's brainstorm some creative ideas!}

runtime:
  message_contract:
    require_metadata: false         # No metadata requirements
    min_citations: 0                # No citation requirements
  logs:
    level: INFO
  trace:
    enabled: true
  max_rounds: 8                     # Good brainstorming session
  scheduler:
    impl: agentrylab.runtime.scheduler.every_n.EveryNScheduler
    params:
      schedule:
        creative: 1                 # Creative agent speaks every turn
        practical: 1                # Practical agent speaks every turn
  allow_parallel_tools: false       # Keep it simple
  fail_open_on_tool_error: true     # Don't fail on errors
  default_timeout_s: 30             # Quick responses
  strict_budget: false              # No budget constraints

# Very lenient rules
room_rules:
  topic_focus_threshold: 0.8        # Allow some creative drift
  require_urls_for_factual_claims: false
  min_urls_per_side: 0
  max_message_len: 200              # Allow longer creative responses
  evidence_first_policy: false      # No evidence requirements

# Simple defaults
context_defaults:
  pin_objective: true               # Keep topic in mind
  pin_system_prompt: true           # Maintain role

# No moderation
moderation:
  step_back:
    allow: false                    # No rollbacks

# Simple provider
providers:
  - id: ollama_llama3
    impl: agentrylab.runtime.providers.ollama.OllamaProvider
    model: "llama3:latest"
    base_url: "http://localhost:11434"
    temperature: 0.9                # High creativity
    options:
      num_ctx: 4096
      top_p: 0.9
      repeat_penalty: 1.1

# No tools
tools: []

# No advisors
advisors: []

# Two brainstorming agents
agents:
  - id: creative
    role: agent
    display_name: "Creative"
    description: Wild and imaginative thinker
    provider: ollama_llama3
    tools: []
    context:
      max_messages: 4               # Keep some context
      pin_objective: true
      running_summary: false        # No summaries
    system_prompt: |
      You are the Creative agent. Your job is to think outside the box and come up with wild, imaginative ideas.
      
      Your approach:
      - Think big and bold
      - Don't worry about feasibility initially
      - Build on your partner's ideas
      - Ask "what if" questions
      - Be enthusiastic and energetic
      
      Remember: There are no bad ideas in brainstorming!

  - id: practical
    role: agent
    display_name: "Practical"
    description: Grounded and realistic thinker
    provider: ollama_llama3
    tools: []
    context:
      max_messages: 4               # Keep some context
      pin_objective: true
      running_summary: false        # No summaries
    system_prompt: |
      You are the Practical agent. Your job is to take creative ideas and make them more realistic and actionable.
      
      Your approach:
      - Take wild ideas and make them feasible
      - Ask "how would this work?" questions
      - Consider resources and constraints
      - Build on your partner's ideas
      - Be supportive but realistic
      
      Remember: Help make great ideas even better!

# No persistence
persistence: {}

# Simple logging
logs:
  format: pretty
  level: info
  destination: console
  redact_secrets: true
