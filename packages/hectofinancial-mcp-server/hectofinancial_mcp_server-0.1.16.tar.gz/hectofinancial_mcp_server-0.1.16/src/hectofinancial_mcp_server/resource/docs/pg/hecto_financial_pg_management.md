# 38\. 실시간 거래 조회 API (Non-UI)

## 38.1 연동 방법

*   요청 전문을 확인하셔서 파라미터를 세팅합니다.
*   Server to Server로 HTTP Connection 하여 JSON데이터 ([34.4 JSON 요청 데이터 예시](#item-947))로 POST 요청합니다.

#### 결제수단 별 단건 거래상태 조회

*   원 거래 일자는 조회하고자 하는 원 거래 번호의 요청 당시 일자를 입력 (해당 거래일 기준 전일 ~ 익일 사이 거래 건 조회)
*   원 거래 번호가 확인이 되는 경우 원 거래 번호를 추가 전달

## 38.2 API URI

 
| 구분  | URL |
| --- | --- |
| 테스트베드 | https://tbgw.settlebank.co.kr/spay/APITrdcheck.do |
| 상용 환경 | https://gw.settlebank.co.kr/spay/APITrdcheck.do |

## 38.3 요청 및 응답 헤더

 
| 구분  | 내용  |
| --- | --- |
| 요청  | Content-type=application/json; charset=UTF-8 |
| 응답  | Content-type=application/json; charset=UTF-8 |

## 38.4 JSON 요청 데이터 예시

```
{
"params" : {
"mchtId" : "nx_mid_il",
"ver" : "0A1M",
"mchtTrdNo" : "PG_vbank_20210806075154649",
"trdDt" : "20210806",
"trdTm" : "080101"
},
"data" : {
"pktHash" : "996E651D9435700D54E0D69B5726B5489AD0691C3FC86BE572314D39A2AE8B6D",
"method" : "VA",
"trdAmt" : "500",
"orgTrdDt" : "20210806",
"orgMchtTrdNo" : "PG_vbank_20210806075154648",
"orgTrdNo" : "STFP_PGVAnx_mid_il00210806075210M1853381"
}
}
```

## 38.5 요청 전문 (가맹점 → 헥토파이낸셜)

가맹점 서버에서 헥토파이낸셜측으로 요청하는 컬럼을 다음과 같이 정의합니다.

      
| 파라미터 |     | 이름  | 설명  | 타입(길이) | 필수  | 비고  |
| --- | --- | --- | --- | --- | --- | --- |
| params | mchtId | 상점아이디 | 헥토파이낸셜에서 부여하는 고유 상점아이디 | AN(12) | ●   | "nx\_mid\_il" |
| ver | 버전  | 전문의 버전 | AN(4) | ●   | "0A1M"  <br>※ 고정값 |
| mchtTrdNo | 상점주문번호 | 상점에서 생성하는 고유한 거래번호 | AN(100) | ●   | "ORDER20211231100000" |
| trdDt | 요청일자 | 현재 전문을 전송하는 일자(YYYYMMDD) | N(8) | ●   | "20211231" |
| trdTm | 요청시간 | 현재 전문을 전송하는 시간(HHMMSS) | N(6) | ●   | "100000" |
| data | pktHash | hash데이터 | SHA256 방식으로 생성한 해쉬값  <br>\[[요청 전문 해쉬 코드](#item-948)\] 참고 | AN(200) | ●   | "f395b6725a9a18f2563ce34f8bc76698051d27c05e5ba815f463f00429061c0c" |
| method | 결제수단 | 결제수단 2자리  <br>\[[결제수단 코드](#item-951)\] 참고 | A(2) | ●   | "VA" |
| trdAmt | 거래금액 | 거래금액  <br>1,000원 -> 1000 | N(12) | ●   | "1000" |
| orgTrdDt | 원 거래 일자 | 원거래 결제 요청시 요청일자  <br>(YYYYMMDD) | N(8) | ●   | "20211231" |
| orgMchtTrdNo | 원거래 상점주문번호 | 원 거래의 상점주문번호 | AN(100) | ●   | "ORDER20211231100000" |
| orgTrdNo | 원 거래 번호 | 결제 시, 헥토파이낸셜에서 발급한 거래번호 | AN(40) | ○   | "STFP\_PGCAnxca\_jt\_il0211129135810M1494620" |

## 38.6 요청 전문 해쉬 코드

 
| 항목  | 조합 필드 |
| --- | --- |
| pktHash | 거래일자 + 거래시간 + 상점아이디 + 상점주문번호 + 거래금액(평문) + 해쉬키 |

## 38.7 응답 전문 (헥토파이낸셜 → 가맹점)

가맹점 서버에서 헥토파이낸셜측으로 요청하는 컬럼을 다음과 같이 정의합니다.

      
| 파라미터 |     | 이름  | 설명  | 타입(길이) | 필수  | 비고  |
| --- | --- | --- | --- | --- | --- | --- |
| params | mchtId | 상점아이디 | 헥토파이낸셜에서 부여하는 고유 상점아이디 | AN(12) | ●   | "nx\_mid\_il" |
| ver | 버전  | 전문의 버전 | AN(4) | ●   | "0A1M"  <br>※ 고정값 |
| mchtTrdNo | 상점주문번호 | 요청시의 주문번호 bypass | AN(100) | ●   | "ORDER20211231100000" |
| trdNo | 거래번호 | 헥토파이낸셜 거래번호 | AN(40) | ●   | "STFP\_PGHMnx\_mid\_il00220623130711M1872705" |
| trdDt | 요청일자 | 현재 전문을 전송하는 일자(YYYYMMDD) | N(8) | ●   | "20211231" |
| trdTm | 요청시간 | 현재 전문을 전송하는 시간(HHMMSS) | N(6) | ●   | "100000" |
| outStatCd | 거래상태코드 | 0021:성공, 0031:실패  <br>(성공건 확인: 거래상태=0021 + 결과코드=0000) | N(4) | ●   | "0000" |
| outRsltCd | 결과코드 | 결과 코드  <br>0000 : 정상거래(가상계좌는 입금성공을 의미)  <br>0001 : 취소상태(가상계좌는 환불상태를 의미)  <br>0009 : 결제실패(결제실패내역 존재)  <br>그 외 \[[거절 코드 표\]](#item-544) 참고 | AN(4) | ●   | "0000" |
| outRsltMsg | 결과메세지 | 결과메세지 | AHN(200) | ●   | "정상거래" |
| data | pktHash | 해쉬값 | 요청시, hash 값 그대로 return | AN(64) | ●   |     |
| method | 결제수단 | 결제수단 2자리  <br>\[[결제수단 코드\]](#item-951) 참고 | A(2) | ●   | "VA" |
| trdAmt | 거래금액 | 거래금액 | N(12) | ●   | "1000" |
| cnclAmt | 취소금액 | 취소금액  <br>※ 취소 건 미존재 시 0원 | N(12) | ○   | "1000" |

## 38.8 결제수단 코드

결제수단 코드는 다음과 같습니다.

   
| 코드  | 결제수단 |
| --- | --- |
| BG  | 도서상품권 |
| CG  | 컬쳐랜드상품권(컬쳐캐쉬) |
| HM  | 해피머니 |
| TC  | 틴캐시 |
| CP  | 포인트다모아 |
| WL  | 화이트라벨 |
| CA  | 신용카드 |
| MP  | 휴대폰결제 |
| RA  | 계좌이체 |
| VA  | 가상계좌 |
| TM  | 티머니 |
| SG  | 스마트문상 |
| KP  | 카카오페이 |
| NP  | 네이버페이 |
| PC  | 페이코 |

# 39\. 거래대사 API (Non-UI)

거래대사 API 연동 방법에 대해 기술합니다.

## 39.1 API 요약 설명

가맹점 서버에서 헥토파이낸셜 서버로 거래대사 조회를 위한 API 를 호출하며, 아래 호출의 결과로 헥토파이낸셜측 거래대사 결과가 응답됩니다.

## 39.2 API URI

| 서버 구분 | URI | HTTP Method |
| --- | --- | --- |
| 테스트베드 | https://tb-nspay.settlebank.co.kr/api/pg/{상점아이디}/transInfo.do | GET/POST |
| 운영환경 | https://nspay.settlebank.co.kr/api/pg/{상점아이디}/transInfo.do | GET/POST |

## 39.3 요청 및 응답 헤더

API 요청 및 응답 헤더 포맷은 다음과 같습니다.

|     |     |
| --- | --- |
| 요청  | Content-type=application/x-www-form-urlencoded;charset=UTF-8 |
| 응답  | Content-type=text/plain;charset=UTF-8 |

## 39.4 요청 전문 (가맹점 → 헥토파이낸셜)

가맹점 서버에서 헥토파이낸셜측으로 요청하는 컬럼을 다음과 같이 정의합니다.

     
| 파라미터 | 이름  | 설명  | 타입(길이) | 필수  | 비고  |
| --- | --- | --- | --- | --- | --- |
| mchtId | 상점아이디 | 헥토파이낸셜에서 부여하는 고유 상점아이디 | AN(10) | ●   | "nxca\_jt\_il" |
| mchtTy | 상점아이디구분 | 상점아이디구분 값 | AN(1) | ●   | "M"  <br>※고정값 |
| method | 결제수단 | 결제수단 2자리  <br>\[[결제수단 코드](#item-951)\] 참고 | AN(2) | ●   | "CA" |
| pdTy | 조회기간구분 | 조회기간 구분 코드 | AN(1) | ●   | "D"  <br>※고정값 |
| trdDtSt | 거래일자 | 거래일자  <br>yyyyMMdd | N(8) | ●   | "20211231" |
| pktHash | hash 데이터 | SHA256 방식으로 생성한 해쉬값  <br>\[[요청 전문 해쉬 코드](#item-850)\] 참고 | AN(200) | ●   | "346a2496f3e8b2cbb2ebd157eee0f7404c4e97c34d3cefe8a9b0113cc93f8cc1" |

## 39.5 요청 전문 해쉬 코드

 
| 항목  | 조합 필드 |
| --- | --- |
| pktHash | 상점아이디 + 거래일자 + 인증키 |

## 39.6 응답 전문 (헥토파이낸셜 → 가맹점)

헥토파이낸셜 서버에서 가맹점측으로 응답하는 컬럼을 다음과 같이 정의 합니다.  
 

| 순번  | Parameter 명 | 설명  | 타입(길이) | 비고  |
| --- | --- | --- | --- | --- |
| 조회결과 - 조회 시 첫 행 출력 |     |     |     |     |
| 1   | 결과코드 | API 응답 결과 코드 | AN(4) |     |
| 2   | 결과 메시지 | API 응답 결과 메시지 | AN(4) |     |
| 3   | 조회내역 건수 | 조회 성공 거래 내역 건수 | N   |     |
| 거래내역 – 조회 성공(result:0000) 시 두 번째 행부터 거래건 별 출력 (반복부) |     |     |     |     |
| 1   | 상점아이디 | 상점아이디 | AN(10) |     |
| 2   | 결제수단 | 결제수단 코드 | N(2) |     |
| 3   | 헥토파이낸셜 거래번호 | 헥토파이낸셜에서 생성한 거래번호 | AN(40) |     |
| 4   | 주문번호 | 상점주문번호 | AN(100) |     |
| 5   | 승인구분 | 승인/취소 구분 | N(1) | "0" : 승인,  <br>"1" : 취소 |
| 6   | 거래일자 | 거래일자(취소일자)  <br>yyyyMMdd | N(8) |     |
| 7   | 거래시간 | 거래시간(취소시간)  <br>hhmmss | N(6) |     |
| 8   | 거래금액 | 거래금액 | N(13) |     |
| 9   | 원거래번호 | 취소거래에 대한 원 거래번호 | AN(40) |     |
| 10  | 원거래일자 | 취소거래에 대한 원 거래일자 | N(8) |     |
| 11  | 주문자명 | 상점 주문자명 | AN(88) |     |
| 12  | 상품명 | 상점 상품명 | AN(200) |     |
| 13  | 승인번호 | 신용카드 승인번호 |     |     |
| 14  | 금융사 | 금융사 | AHN(20) |     |
| 15  | 할부개월 | 신용카드 거래 할부 개월 | N(2) |     |
| 16  | 무이자할부여부 | 가맹점부담 무이자 할부 거래 여부(신용카드) | AN(1) |     |

## 39.7 거래대사 응답 값 예시

  
예시 1. 거래대사 API 조회 시 정상처리 응답 값 예시 입니다.

```
0000|정상 처리 되었습니다.|3|
mid_test|VA|STBK_PGVAmid_test000000000000000M0000001|TEST000000000000000001|0|20211231|100001|1000|||홍길동|테스트상품||케이뱅크|||
mid_test|VA|STBK_PGVAmid_test000000000000000M0000002|TEST000000000000000002|0|20211231|100002|2000|||홍길동|테스트상품||케이뱅크|||
mid_test|VA|STBK_PGVAmid_test000000000000000M0000003|TEST000000000000000003|0|20211231|100003|3000|||홍길동|테스트상품||케이뱅크|||
```

예시 2. 거래대사 API 조회 시 실패 응답 값 예시 입니다.

```
ST92|해쉬 값 불일치.|0|
```

## 39.8 코드 표

*   대사 API 코드

   
| 코드  | 결제수단 |
| --- | --- |
| 0000 | 정상 처리 되었습니다. |
| 1001 | 조회내역 없음 |
| ST09 | 유효하지 않은 요청전문 |
| ST10 | 내부 시스템 에러 |
| ST90 | 등록되지 않은 상점 아이디 |
| ST91 | 필수 파라미터 오류 |
| ST92 | 해쉬 값 불일치 |

*   결제수단 코드 - \[[결제수단 코드](#item-951)\] 참고
*   금융기관 코드 - \[[금융기관 식별자](#item-546)\] 참고
*   카드사 코드(매입사 코드)

   
| 코드  | 카드사명 |
| --- | --- |
| 01  | BC  |
| 02  | 국민  |
| 03  | 하나  |
| 04  | 삼성  |
| 05  | 신한  |
| 08  | 현대  |
| 09  | 롯데  |
| 11  | 우리  |
| 15  | NH  |

*   통신사 코드

   
| 코드  | 통신사명 |
| --- | --- |
| SKT | SK Telecom |
| KTF | KT  |
| LGT | LG U+ |
| SKL | SK 7 Mobile |
| CJH | CJ 헬로모바일 |
| KCT | 한국케이블텔레콤 |

# 40\. 정산대사 API (Non-UI)

정산대사 API 연동 방법에 대해 기술합니다.

## 40.1 API 요약 설명

가맹점 서버에서 헥토파이낸셜 서버로 정산대사 조회를 위한 API 를 호출하며, 아래 호출의 결과로 헥토파이낸셜측 정산대사 결과가 응답됩니다.

## 40.2 API URI

| 서버 구분 | URI | HTTP Method |
| --- | --- | --- |
| 테스트베드 | https://tb-nspay.settlebank.co.kr/api/pg/{상점아이디}/sttlmntInfo.do | GET/POST |
| 운영환경 | https://nspay.settlebank.co.kr/api/pg/{상점아이디}/sttlmntInfo.do | GET/POST |

## 40.3 요청 및 응답 헤더

API 요청 및 응답 헤더 포맷은 다음과 같습니다.

|     |     |
| --- | --- |
| 요청  | Content-type=application/x-www-form-urlencoded;charset=UTF-8 |
| 응답  | Content-type=text/plain;charset=UTF-8 |

## 40.4 요청 전문 (가맹점 → 헥토파이낸셜)

가맹점 서버에서 헥토파이낸셜측으로 요청하는 컬럼을 다음과 같이 정의합니다.

     
| 파라미터 | 이름  | 설명  | 타입(길이) | 필수  | 비고  |
| --- | --- | --- | --- | --- | --- |
| mchtId | 상점아이디 | 헥토파이낸셜에서 부여하는 고유 상점아이디 | AN(10) | ●   | "nxca\_jt\_il" |
| method | 결제수단 | 결제수단 2자리  <br>\[[결제수단 코드](#item-951)\] 참고 | AN(2) | ●   | "CA" |
| crtrDt | 조회일자 | 정산예정일자  <br>yyyyMMdd | N(8) | ●   | "20211231" |
| pktHash | hash 데이터 | SHA256 방식으로 생성한 해쉬값  <br>\[[요청 전문 해쉬 코드](#item-857)\] 참고 | AN(32) | ●   | "346a2496f3e8b2cbb2ebd157eee0f7404c4e97c34d3cefe8a9b0113cc93f8cc1" |

## 40.5 요청 전문 해쉬 코드

 
| 항목  | 조합 필드 |
| --- | --- |
| pktHash | 상점아이디 + 조회일자 + 인증키 |

## 40.6 응답 전문 (헥토파이낸셜 → 가맹점)

응답 전문은 가맹점에서 요청한 거래일자에 발생한 대사 값을 헥토파이낸셜에서 가맹점으로 응답하는 전문입니다. 헥토파이낸셜 서버에서 가맹점측으로 응답하는 컬럼을 다음과 같이 정의 합니다.  
 

| 순번  | Parameter 명 | 설명  | 타입(길이) | 비고  |
| --- | --- | --- | --- | --- |
| 조회결과 - 조회 시 첫 행 출력 |     |     |     |     |
| 1   | 결과코드 | API 응답 결과 코드 | AN(4) |     |
| 2   | 결과 메시지 | API 응답 결과 메시지 | AN(4) |     |
| 3   | 조회내역 건수 | 조회 성공 거래 내역 건수 | N   |     |
| 거래내역 – 조회 성공(result:0000) 시 두 번째 행부터 거래건 별 출력 (반복부) |     |     |     |     |
| 1   | 상점아이디 | 상점아이디 | AN(10) |     |
| 2   | 헥토파이낸셜 거래번호 | 헥토파이낸셜에서 생성한 거래번호 | AN(40) |     |
| 3   | 원거래번호 | 취소거래에 대한 원 거래번호 | AN(40) |     |
| 4   | 결제수단 | 결제수단 코드 | N(2) |     |
| 5   | 승인/취소일자 | 거래일자(취소일자)  <br>yyyyMMdd | N(8) |     |
| 6   | 승인/취소 여부 | 승인/취소 구분 | N(1) | "0" : 승인,  <br>"1" : 취소 |
| 7   | 금융사/통신사코드 | 금융사 | AHN(20) |     |
| 8   | 승인번호 | 신용카드 승인번호 |     |     |
| 9   | 할부개월수 | 신용카드 거래 할부 개월 | N(2) |     |
| 10  | 주문번호 | 상점주문번호 | AN(100) |     |
| 11  | 주문자명 | 상점 주문자명 | AN(88) |     |
| 12  | 상품명 | 상점 상품명 | AN(200) |     |
| 13  | 결제금액 | 결제금액 | N(13) |     |
| 14  | 수수료 | 공금가액 | N(13) |     |
| 15  | 부가세 | 부가세 | N(13) |     |
| 16  | 정산예정금액 | 정산예정금액 | N(13) |     |
| 17  | 정산예정일자 | 정산예정일자  <br>yyyyMMdd | N(8) |     |

## 40.7 정산대사 응답 값 예시

  
예시 1. 정산대사 API 조회 시 정상처리 응답 값 예시 입니다.

```
0000|정상 처리 되었습니다.|3|
mid_test|SOFP_00000001|SOFP_00000004|VA|20211231|0|089|||TEST0000001||테스트상품|1000|20|2|978|20210514|
mid_test|SOFP_00000002|SOFP_00000005|VA|20211231|0|089|||TEST0000002||테스트상품|1000|20|2|978|20210514|
mid_test|SOFP_00000003|SOFP_00000006|VA|20211231|0|089|||TEST0000003||테스트상품|1000|20|2|978|20210514|
```

  
예시 2. 정산대사 API 조회 시 실패 응답 값 예시 입니다.

```
ST92|해쉬 값 불일치.|0|
```

# 41\. 기타

## 41.1 거절코드 표

*   PG 공통 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| 0000 | 정상처리 | 0009 | 사용자취소 |
| 1001 | 결제 요청 정보 누락(상점아이디) | 1002 | 결제 요청 정보 누락(결제수단) |
| 1003 | 결제 요청 정보 누락(거래일자) | 1004 | 결제 요청 정보 누락(거래시간) |
| 1005 | 결제 요청 정보 누락(상점주문번호) | 1006 | 결제 요청 정보 누락(상점한글명) |
| 1007 | 결제 요청 정보 누락(상점영문명) | 1008 | 결제 요청 정보 누락(상품명) |
| 1009 | 결제 요청 정보 누락(거래금액) | 1010 | 결제 요청 정보 누락(결과처리URL) |
| 1011 | 결제 요청 정보 누락(결과화면URL) | 1012 | 결제 요청 정보 누락(결제취소URL) |
| 1013 | 결제 요청 정보 누락(상점고객아이디) | 1101 | 결제 요청 정보 길이 오류(상점아이디) |
| 1102 | 결제 요청 정보 길이 오류(결제수단) | 1103 | 결제 요청 정보 길이 오류(요청일자) |
| 1104 | 결제 요청 정보 길이 오류(요청시간) | 1105 | 결제 요청 정보 길이 오류(상점주문번호) |
| 1106 | 결제 요청 정보 길이 오류(상점한글명) | 1107 | 결제 요청 정보 길이 오류(상점영문명) |
| 1108 | 결제 요청 정보 길이 오류(상품명) | 1109 | 결제 요청 정보 길이 오류(거래금액) |
| 1110 | 결제 요청 정보 길이 오류(고객명) | 1111 | 결제 요청 정보 길이 오류(결과처리URL) |
| 1112 | 결제 요청 정보 길이 오류(결과화면URL) | 1113 | 결제 요청 정보 길이 오류(결제취소URL) |
| 1114 | 결제 요청 정보 길이 오류(상점예약필드) | 1115 | 결제 요청 정보 길이 오류(이메일) |
| 1116 | 결제 요청 정보 길이 오류(상품제공기간) | 1117 | 결제 요청 정보 길이 오류(상점고객아이디) |
| 1118 | 결제 요청 정보 길이 오류(면세여부) | 1119 | 결제 요청 정보 길이 오류(과세금액) |
| 1120 | 결제 요청 정보 길이 오류(부가세금액) | 1121 | 결제 요청 정보 길이 오류(비과세금액) |
| 1122 | 결제 요청 정보 길이 오류(봉사료) | 1123 | 결제 요청 정보 길이 오류(카드결제타입) |
| 1124 | 결제 요청 정보 길이 오류(특정카드사코드) | 1125 | 결제 요청 정보 길이 오류(앱스키마) |
| 1126 | 결제 요청 정보 길이 오류(고객IP주소) | 1127 | 결제 요청 정보 길이 오류(hash 데이터) |
| 1901 | 해쉬값 불일치 오류 | 1902 | 암호화 항목 미처리 오류 |
| 2001 | 보안숫자가 일치하지 않음 | 2002 | 보안숫자 인증 횟수 초과 |
| 2003 | 인증 시간 초과 | 5001 | 잘못된 경로로 접근(null error) |
| 5002 | 거래 시간 초과(expired error) | 5003 | 잘못된 경로로 접근(encoding error) |
| 5004 | 잘못된 경로로 접근(parse error) | 5005 | 잘못된 경로로 접근(mapping error) |
| 5006 | 잘못된 경로로 접근(io error) | 6001 | 유효하지 않은 요청 전문 |
| 9001 | 레거시코드 조회 오류 | 9002 | 결제창옵션 조회 오류 |
| 9003 | 결제창배너 조회 오류 | 9004 | 약관리스트 조회 오류 |
| 9005 | 공지사항 조회 오류 | 9006 | 제휴할인 조회 오류 |
| 9007 | 결제정보 조회 오류 | 9901 | 게이트웨이 요청 전문 오류 |
| 9902 | 게이트웨이 응답 전문 오류 | 9903 | 게이트웨이 요청 오류 |
| 9904 | 게이트웨이 응답 오류 | 9905 | 게이트웨이 시스템 오류 |
| 9999 | 내부 시스템 오류 | 3007 | 취소 한도 초과 |
| ST01 | 고객정보 없음 | STR1~STR8 | 내부 정책 |
| ST06 | 거래정보 없음 | ST03 | 기 결제건 |
| ST08 | 이미 등록된 계좌입니다 | ST07 | 유효하지 않은 전문 |
| ST09 | 유효하지 않은 요청전문 | ST10 | 내부 시스템 오류 |
| ST11 | 원천사 점검 시간 | ST13 | 인증내역 없음 |
| ST19 | 기타 거래 불가 | ST24 | 예금주 불일치 |
| ST25 | 중복 취소 요청 | ST26 | 취소 정보 오류 |
| ST30 | 인증 시간 만료 | ST32 | 예금주 성명 오류 |
| ST38 | 처리 진행 중 | ST39 | 환불 중복 요청 |
| ST41 | 트래픽 과다 | ST44 | 원천사 정보 오류 |
| ST45 | 취소 실패 | ST46 | 취소기간 경과 |
| ST47 | 미등록 상점 | ST48 | 미등록 가맹점 |
| ST50 | 중복요청 | ST54 | 부분취소 불가 |
| ST55 | 복합과세 금액 불일치 | ST56 | 취소회차 오류 |
| ST57 | 취소금액(환불금액)이 원거래금액을 초과합니다. | ST58 | 취소요청금액이 원거래금액과 일치하지 않습니다. |
| ST60 | 비정상 처리 | ST68 | 서비스 중지 |
| ST69 | 서비스 불가 | ST70 | 정책 차단 |
| ST79 | 시스템 오류 | ST90~ST97 | 결제 수단별 개별 정의 |
| ST99 | 기타 오류 | VTIM | 원천사 타임아웃 |

*   신용카드 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| CA01 | 원천사 점검 | CA02 | 원천사 장애 |
| CA03 | 전문 유효성 체크 | CA04 | 결제 중계사 장애 |
| CA10 | 거래정보 없음 | CA11 | 기매입 거래 |
| CA12 | 기취소 거래 | CA13~CA19 | 요청정보 오류 |
| CA20 | 카드 유효기간이 유효하지 않습니다. | CA21~CA23 | 할부 관련 오류 |
| CA26 | 사용횟수 초과 | CA27~CA29 | 비밀번호 관련 오류 |
| CA30 | 식별번호 오류 | CA31~CA37 | 한도 관련 오류 |
| CA38 | 포인트한도 미달로 거래 불가 | CA40~CA41 | 거래금액 오류 |
| CA42 | 1000원 미만 99,999,999원 이상 금액 거래 불가 | CA50~CA57 | 카드상태 오류 |
| CA58 | 미등록 카드입니다. 카드사로 문의해 주세요. | CA60~CA64 | 가맹점상태 오류 |
| CA59 | 법인카드는 거래가 불가능합니다. | J999 | 카드사 전화 요망 |
| CA65 | 인증거래미약정가맹점 | CA70 | 식별번호(생년월일/사업자번호)+비밀번호가 유효하지 않음 |
| CA75 | 공동인증서 인증정보가 유효하지 않습니다. | CA80 | 서비스 불가 거래 |
| CA81 | 거래 처리 중 오류 발생 | 0905 | 본인확인요망 |
| CA82 | 카드사 전화 요망 | CA83 | 해당 거래는 취소가 불가합니다. |
| CA84 | 기타 오류가 발생하였습니다. | CA85 | 취소거래 처리 시 오류가 발생하였습니다. |
| CA86 | 이중 거래 입니다. | CA87 | 가맹점 번호가 유효하지 않습니다. |
| CA88 | 해당 선불카드(기프트카드)는 부분취소가 불가합니다. | 8373 | 카드사 전화 요망 |
| 8375 | 기타 에러 처리 |     |     |

*   티머니 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| TM01 | 기 취소 거래 | TM02 | 결제정보 없음 |
| TM03 | 중복 취소 | TM04 | 취소금액 초과 |
| TM05 | 요청자료 오류 | TM11 | 취소오류 |
| TM14 | 미등록 가맹점/서비스 | TM22~TM23 | CASHBEE 거래 |
| TM30 | 환불 기간 초과 | TM40 | 취소 실패 |
| TM99 | 알수 없는 오류 |     |     |

*   휴대폰 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| MP01 | 요청자료 오류 | MP02 | 요청정보 불일치 |
| MP03 | 결제정보 없음 | MP04 | 미등록 가맹점/서비스 |
| MP05~MP13 | 고객 관련결제 불가 | MP14~MP17 | 이통사소액결제 이용 불가 |
| MP18~MP19 | 이통사소액결제 이용 동의 | MP20~MP21 | 이통사소액결제 차단 요청 |
| MP22 | 이통사 자동결제 차단 | MP23~MP26 | 한도 초과 |
| MP27~MP33 | 원천사 RM(imPAY) | MP34~MP36 | 원천사 중복 처리 |
| MP37~MP40 | 원천사 부가서비스 | MP41~MP44 | 소액결제 비밀번호 |
| MP45 | 월자동결제 전월 정보 없음 |     |     |
| MP50~MP51 | 유효시간 초과 | MP60~MP77 | 인증 관련 오류 |
| MP78 | 간편결제 서비스 | MP80 | 취소 실패 |
| MP81 | 취소 기간 경과 | MP82 | 기 취소 거래 |
| MP94 | 서비스 불가 | MP95~MP96 | 원천사 트래픽 과다 |
| MP97 | 내부 오류 | MP98 | 기타 오류 |
| MP99 | 결제창 인증 취소 처리 |     |     |

*   계좌이체 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| RA01 | 이체횟수 초과 | RA02~RA04 | 한도 관련 오류 |
| RA05 | 잔액부족 | RA10~RA13 | 고객정보 불일치 |
| RA14 | 금액초과 | RA15 | 금액 불일치 |
| RA16 | 중복 결제 | RA17 | 은행정보 없음 |
| RA20 | 은행정보 없음 | RA21 | 계좌번호 상태 에러 |
| RA30~RA31 | 업무시간 마감 | RA32 | 서비스 불가 상점 |
| RA33 | 기취소 거래 | RA34 | 원거래 조회 실패 |
| RA35 | 거래정보 없음 | RA40 | 수표 처리 |
| RA41 | 증서 처리 | RA80~RA81 | 원천사 네트워크 오류 |
| RA82 | 헥토파이낸셜 오류 | RA83 | 원천사 네트워크 오류 |
| RA84 | 헥토파이낸셜 오류 | RA85 | 인증 처리 |
| RA86~RA87 | 은행 오류 | RA88 | 은행 업무종료 |

*   포인트 다모아 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| CP01 | 한도 초과 | CP02 | 사용가능금액 초과 |
| CP03 | 요청금액 초과 | CP04 | 금액 불일치 |
| CP10~CP11 | 고객정보조회 실패 | CP12 | 인증 관련 |
| CP13 | 고객정보 미존재 | CP14 | 약관내역 미존재 |
| CP15~CP16 | 회원정보 관련 | CP17 | 중복결제 오류 |
| CP30 | 기취소 거래 | CP31 | 거래시간 만료 |
| CP32~CP33 | 원거래 조회 실패 | CP34 | 중복결제 오류 |
| CP70 | 가맹점상태 오류 | CP71 | 광고 관련 오류 |
| CP80~CP87 | 원천사 관련 오류 | CP88 | 파일 관련 오류 |
| CP89 | 포인트 조회 관련 오류 | CP90 | 입력정보 오류 |

*   상품권 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| GC01 | 요청자료 오류 | GC02 | 요청정보 불일치 |
| GC03 | 결제정보 없음 | GC04 | 미등록 가맹점/서비스 |
| GC05 | 결제정보 없음 | GC06 | 중복결제 오류 |
| GC07 | 한도초과 | GC08 | 처리완료 |
| GC09 | 인증정보 오류 | GC10 | 회원정보 관련 |
| GC11 | 한도초과 | GC12~GC13 | 가맹점상태 오류 |
| GC20~GC24 | 원천사 관련 오류 | GC40 | 취소 실패 |
| GC41 | 취소 기처리 | GC42 | 취소 불가 |
| GC94 | 서비스 불가 | GC95~GC96 | 원천사 시스템 오류 |
| GC97 | 내부 오류 | GC98 | 기타 오류 |
| ST90 | 상품권류 개별 Alert창 출력 |     |     |

 

*   간편결제 응답 코드

   
| 코드  | 내용  | 코드  | 내용  |
| --- | --- | --- | --- |
| PZ01, PZ05 | 원천사 점검 | PZ02 | 원천사 장애 |
| PZ03 | 결제 중계 오류 | PZ04 | 허용되지 않은 접근 |
| PZ06 | 유효하지 않은 계좌 | PZ07 | 유효하지 않은 카드번호 |
| PZ08 | 카드 유효기간이 유효하지 않음 | PZ09 | 요청정보 오류 |
| PZ10 | 원거래 정보 미존재 | PZ14~PZ19 | 비밀번호 관련 오류 |
| PZ26~PZ27 | 유효하지 않은 금액 | PZ31 | 해당거래불가가맹점 |
| PZ32 | 가맹점 운영 시간 종료 | PZ33~PZ35 | 결제수단 거래 불가 |
| PZ40,PZ42 | 할부 관련 오류 | PZ45 | 인증 오류 횟수 초과 |
| PZ50~PZ54 | 카드상태 오류 | PZ60~PZ65 | 회원정보 관련 오류 |
| PZ69 | 전문포맷오류 | PZ70 | 서비스 불가 거래 |
| PZ71 | 거래 처리 중 오류 발생 | PZ72 | 쿠폰 사용 불가합니다. |
| PZ73 | 사업자/법인등록번호 불일치 | PZ74 | 카드사 전화 요망 |
| PZ75 | 취소 불가 거래 | PZ76 | 기타 오류 |
| PZ77~PZ78 | 환불/취소 처리 오류 | PZ79 | 거래제한시간 만료 |
| PZ80 | 조회 가능한 기간 아님 | PZ81 | 진행 중 거래 |
| PZ82 | 승인내역 미존재 | PZ83 | 쿠폰 적용 불가 |
| PZ84 | 환불 불가 | PZ85 | 이벤트 참여 불가 |
| PZ86 | 기처리 거래 | PZ87 | 기취소 거래 |
| PZ88 | 기매입 거래 | PZ89~PZ90 | 인증정보 관련 오류 |
| PZ91 | 할인 적용 불가 |     |     |

## 41.2 신용카드 식별자

신용카드 고유 식별 코드는 다음과 같습니다.

   
| 신용카드사 코드 | 신용카드사 명 | 신용카드사 코드 | 신용카드사 명 |
| --- | --- | --- | --- |
| BCC | 비씨  | KBC | 국민  |
| HNC | 하나(외환) | SSC | 삼성  |
| SHN | 신한  | WRI | 우리  |
| HDC | 현대  | LTC | 롯데  |
| 007 | 수협  | NHC | NH농협 |
| 035 | 제주  | 034 | 광주  |
| 037 | 전북  | 027 | 시티  |
| 218 | KB증권 | 050 | 저축은행 |
| 071 | 우체국 | 048 | 신협  |
| 002 | 산업  | 090 | 카카오뱅크 |
| 089 | 케이뱅크 | KBP | KBPay |
| SSP | 삼성페이 | 1QP | 1QPay |
| 247 | 새마을 |     |     |

## 41.3 금융기관 식별자

금융기관 고유 식별 코드는 다음과 같습니다.

   
| 금융기관 코드 | 금융기관 명 | 금융기관 코드 | 금융기관 명 |
| --- | --- | --- | --- |
| 002 | 산업은행 | 088 | 신한은행 |
| 003 | 기업은행 | 089 | K뱅크 |
| 092 | 토스뱅크 | 271 | 토스증권 |
| 004 | 국민은행 | 090 | 카카오뱅크 |
| 005 | 외환은행 | 209 | 유안타증권 |
| 007 | 수협은행/수협중앙회 | 218 | KB증권 |
| 011 | NH농협 | 238 | 미래에셋증권 |
| 012 | 농협중앙회 | 240 | 삼성증권 |
| 020 | 우리은행 | 243 | 한국투자증권 |
| 023 | SC 제일은행 | 247 | NH 투자증권 |
| 027 | 한국씨티은행 | 261 | 교보증권 |
| 031 | iM뱅크(대구은행) | 262 | 하이투자증권 |
| 032 | 부산은행 | 263 | 현대차투자증권 |
| 034 | 광주은행 | 264 | 키움증권 |
| 035 | 제주은행 | 265 | 이베스트투자증권 |
| 037 | 전북은행 | 266 | SK 증권 |
| 039 | 경남은행 | 267 | 대신증권 |
| 045 | 새마을금고중앙회 | 269 | 한화투자증권 |
| 048 | 신협중앙회 | 270 | 하나금융투자 |
| 050 | 상호저축은행 | 278 | 신한금융투자 |
| 054 | HSBC 은행 | 279 | 동부증권 |
| 055 | 도이치은행 | 280 | 유진투자증권 |
| 057 | 제이피모간체이스은행 | 287 | 메리츠종합금융증권 |
| 060 | BOA은행 | 290 | 부국증권 |
| 062 | 중국공상은행 | 291 | 신영증권 |
| 064 | 산림조합중앙회 | 292 | 케이프투자증권 |
| 071 | 우체국 | 103 | SBI 저축은행 |
| 081 | KEB 하나은행 |     |     |
