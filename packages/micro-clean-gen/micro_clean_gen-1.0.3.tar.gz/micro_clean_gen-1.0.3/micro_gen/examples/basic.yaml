# 基本微服务配置示例
project:
  name: "user-service"
  description: "用户管理微服务"
  version: "1.0.0"

# 聚合根配置
aggregates:
  - name: "user"
    description: "用户聚合根"
    fields:
      - name: "id"
        type: "string"
        required: true
        description: "用户ID"
      - name: "username"
        type: "string"
        required: true
        description: "用户名"
        validation: "min=3,max=50"
      - name: "email"
        type: "string"
        required: true
        description: "邮箱地址"
        validation: "email"
      - name: "full_name"
        type: "string"
        required: false
        description: "全名"
      - name: "created_at"
        type: "datetime"
        required: true
        description: "创建时间"
      - name: "updated_at"
        type: "datetime"
        required: true
        description: "更新时间"

# 事件配置
events:
  - name: "user_created"
    description: "用户创建事件"
    aggregate: "user"
  - name: "user_updated"
    description: "用户更新事件"
    aggregate: "user"
  - name: "user_deleted"
    description: "用户删除事件"
    aggregate: "user"

# 服务配置
services:
  rest_api:
    enabled: true
    port: 8080
    prefix: "/api/v1"
  grpc:
    enabled: true
    port: 50051
  event_store:
    enabled: true
    type: "nats"
    url: "nats://localhost:4222"