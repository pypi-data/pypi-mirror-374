project: image-management-system

domain:
  aggregates:
    - name: User
      events:
        - UserRegistered
        - UserProfileUpdated
        - UserDeactivated
    
    - name: Image
      events:
        - ImageUploaded
        - ImageProcessed
        - ImageDeleted
        - ImageMetadataUpdated
    
    - name: Album
      events:
        - AlbumCreated
        - ImageAddedToAlbum
        - AlbumShared
        - AlbumDeleted

services:
  - name: user-service
    aggregate: User
    ports:
      inbound: [http, grpc, event]
      outbound: [eventbus, repository, notification]
  
  - name: image-service
    aggregate: Image
    ports:
      inbound: [http, event]
      outbound: [eventbus, repository, storage]
  
  - name: album-service
    aggregate: Album
    ports:
      inbound: [http, event]
      outbound: [eventbus, repository, search]

technology:
  eventbus: nats-jetstream
  database: postgres
  http: gin
  storage: s3
  search: elasticsearch